<!DOCTYPE html>
<html>
<head>
<meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
<title>Drawing Code</title>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="EL3g4/yLAzj50m1MFxo3TwVR8ZlfPgHTXFpQSbTAGVvsI0klMEJ9zOy9MC30RThWBQ2lxvmE/K37H6jwLQS8fg==" />
<link rel="stylesheet" media="all" href="../../../assets/application.self-ca95cacfb3bf8d9fafc29614581f65c94a379e6263a31f3b1cad9ef2e515949c-body=1.css" data-turbolinks-track="reload" />
<script src="../../../assets/jquery.self-660adc51e0224b731d29f575a6f1ec167ba08ad06ed5deca4f1e8654c135bf4c.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/jquery_ujs.self-e87806d0cf4489aeb1bb7288016024e8de67fd18db693fe026fe3907581e53cd.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/bootstrap.self-4e71bfbf6aff83432bb0f204b1cfa3beaf9d05f0d2acf9ec752924a628245be1.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/ace/ace.self-0acb0427eef086a17859bfe56ecfaf24bc47c928ad7db87d5ec5bf235e40cb40.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/ace/mode-javascript.self-f62f7e63cad01dbe717d22344bf979ec13fa33f523d1b94b1576022bd4aa4d7a.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/action_cable.self-1641ec3e8ea24ed63601e86efcca7f9266e09f390e82199d56aa7e4bd50e1aa9.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/cable.self-6e0514260c1aa76eaf252412ce74e63f68819fd19bf740595f592c5ba4c36537.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/code_preview.self-b37269bda74e81e3e6e832ad40469072b79b5b1d3a48a2e91986fd44549f82c0.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/drawings.self-1119b89f5468a45fd5e064d9ba68962f14b5248b9ff1a6b33b2307875e470686.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/init.self-a4ee649cddff26059b55f48414bfc8348299b9851067a8f9a44575b9fadcf8a6.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/jasmine_examples/Player.self-df86cadc05ae752e78b03dabdf6332dfdb2fb5016d4cf4572c81e57779cc62c4.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/jasmine_examples/Song.self-676a725aa543d21fbf2f98b899a89804ae472e93d25bc4f115b4914af237a610.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lesson.self-9ae12ddb887cfd3654ed80dbce5b80b03d03656193fb663542161e096d1c6260.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/basic_cityscape/stage1.self-10cf9217bb0b81dbf6ae74730c568edb8a016b8a309fc143fec209db5bd84b64.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/basic_cityscape/stage2.self-bb5cfbde44b97f0b9658159d2058b56e0869a3d9f04a2ce4f7ae00204dabc8bf.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/basic_cityscape/stage3.self-a41a7d634d148382004655b74ded22f4946978b35e379222275f7a7a3384fddf.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/basic_cityscape/stage4.self-4957bde1f87185b2af8f89378f34a48bcf35b3f490b647b26fe8e9fc2c6c28bd.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/clearRect.self-9e82ca8aa93793f04e73caa7f25eaf5e8c815cbe718ac5f4747de25ef19efce9.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/coordinates.self-e8ed0e1bacf18d0af11e6602fdfbc3026535cadd0a5464c80884b3e7b545cc69.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_basic_cityscape/stage1.self-fb216fc7a0e96119914ef76a23589e19eca30e2413cb1c0e878eb1da97486100.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_basic_cityscape/stage2.self-3ee390b27953fcef5e545541c9dfd7a214dd29bd827551c0b090b91dd88ef2b4.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_basic_cityscape/stage3.self-c6dc74a559b9b250267dcf5076720b5f5700db38d9fa134c781c54d6d19c35c3.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_basic_cityscape/stage4.self-9be2c13bb66b8d0c8f19df06d7de6e7fe81edd0f6ca613f5af3fc90375d681ed.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_coordinates.self-423afc95388d05ea994122acce89935d778bd9d070f553d3561ae2dee6df0d17.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_fill_rect.self-076d63c8d73048e0d6f132484e13c1c7e2576aa91bb4e8822a11539c8c95362c.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_fill_style.self-0780a395ceafcb392fecb963760a24a14f3943e7b2b8a52584025658d066d884.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_for_loops.self-f4404f232185be341367712b9e508aaf857fbbb1d6365795cd20f087beb96471.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_functions.self-52f75fd54306997eb7a8ab5349977423382fb23425570fc6f95d2821663e73e8.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_line_to.self-4bae8d80e5fc7581402d7ef414e686cb7b940bdb591e1d11b110fab8175aa2de.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_random.self-f89bfe57bd493406e6457d580081541aa6e6db7d6b1a86a79910529c38176963.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_round.self-86468393a1ee5a3b92fa118e016e404699f91f25e2b70bdd32ad070d2c3e68e3.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_save.self-88cd2ba2cc3f476aef9fa23521f2125ec54497d639b20bd4f33209e946968334.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_scale.self-9779a221a63774ecb7759e0f7931b6634d7f6f7acd715a1dc4c0c55d9deb1ee9.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_switch_statements.self-9efda014511673e941b77b315a660c3476c95b853d637fab1b249d447d3851d7.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_translate.self-ba0ef3145191cf3be84af5713f63ed1da107339e709d6537657caf98499a0675.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_variables.self-408df4937c1e6a9cd8aebb5ca22558d421cedc2b8b11b77ffa38f37dd8f6773e.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/dng_while_loops.self-64982d7d9e7c855e215f0fbd1f8e50ebbd611454a738b8c525584c81ab548a0d.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/fillRect.self-9e0e0969e446a2f464878a94809b7b44591a6ae159472a8744b33622cbec1b46.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/fillStyle.self-ee4e83b95686dac1cd630c036eb0353cfaeaa2b9701b0c7a6565ba0dc6091ec7.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/flappy_birds/stage1.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/flappy_square/stage1.self-f2dcebe68b5906675943fe4ee80d0e66cfc8b50d30b7c1ef885fdb63f1f953ad.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/flappy_square/stage2.self-8eb29add53aabb7af941f9c84c2abd840c7dbf61669906cae52b8a4c84bcd409.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/flappy_square/stage3.self-cb39fe3b38a5ae28456afbcbe4c17c1b40b1fdeb13b925d136a43609a02907d3.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/flappy_square/stage4.self-17d7302a880ad6257214c9cb8ead56582ece4727ecde96454c320b23f138d16e.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/for_loops.self-9dce154b577b9344744a8e7d16f6ca874805d4a157a4c326af1e9fd1e30627d5.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/functions.self-492d38bff26f435c0469d8a38da45ce7857e334d3bc3a41d8d4b97d5571abd02.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/granular_basic_cityscape/stage1.self-9a6bb1b4e3de5f46da1e072c0fa52d0391b4f64454b97d5b34b6ec01e46dfb32.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/granular_basic_cityscape/stage2.self-274b9a3782e74ccca603cacdcfdc7de6a30a0a3ab57f9a6f1d25b7781e711f99.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/granular_basic_cityscape/stage3.self-e2064f6932bc938d199b51dc1ba885fc1f3b2913935b7bdb8203011970326dbf.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/granular_basic_cityscape/stage4.self-611052ea22dac28d9a24fc6ecb7c680cd07e073d394dc8a34237a2b674d846ad.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/lineTo.self-4487acd17954cf1c89680bde8f16459c34279c0e0b10276e2dc4e1b1ae185d1c.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/save.self-40009da7858c56166ef5dbae9087a3b9cdc7b0c7bbf2c49751dc35678f068df5.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/translate.self-12f5a51ccf4b3f0f72e2079f0069bab57fd3af696731c66057284b4338745fba.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/variables.self-c87145ec3cf2327e7b3eb2ef815bed8ee4b3a42f7408ff8faa7e3353fb824132.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/app/canvas.self-429f6c3eb7215ea53ffe08598331778858aa202b6c9cdf18775ee1623316198a.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/app/editor.self-1a44e68b80f3af38b2840a4f2e3b5b469dfb43ddcf72a616eea328100e566607.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/app/files.self-16fff0bc3c9a315d22413e3b6a090fb8ef8f5f1257b42dade438f57a0de1f134.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/app/progress.self-87dcd90f0ce285e0330f6cea439fae27eb4f77ef16b884cc2f14b23321ba586f.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/test/code.self-186d38d443a8bc51bbeec7159887e3781eaad676a86b9d159eca7ec40e21f7ba.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/test/image_comparison.self-83be79c1bfdac13ff2c69e6916a326f2698035d7381c28f12e44637de7618bac.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/test/point.self-e1435fcb5c66e2107d91d34c16e06e6c0dd8d06286396d3d5b3b05c22989d9b2.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/navigation.self-3abb68970f3392649f6ee452427597fc92e324a7be21f97b6501e5a2ec47609e.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/referenceModal.self-4ba25626378a146e8d2a7ae7edd72600ddef60371b98f42b0c3555b56cd02ff9.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/application.self-4d37d7bcf4b0b32507438063ae47ba88dd0178863f7c7a2c7125b221eefea772.js?body=1" data-turbolinks-track="reload"></script>
</head>
<body>
<nav class='navbar navbar-dark navbar-fixed-top bg-inverse'>
<button aria-controls='navbar' aria-expanded='false' aria-label='Toggle navigation' class='navbar-toggler hidden-sm-up' data-target='#navbar' data-toggle='collapse' type='button'></button>
<a class='navbar-brand' href='../../../index.html'>
Drawing In Code:
<small>An exploration of artistic observation and computational thinking</small>
</a>
</nav>

<div class='container-fluid'>
<div class='row'>
<div class='col-md-3 col-lg-2 sidebar'>
<ul class='nav nav-sidebar'>
<li class='section'>
<a class="section_link" href="../../../index.html">Home</a>
</li>
</ul>
<ul class='nav nav-sidebar'>
<li class='section'>
<a class='section_link' data-section='drawings' href='#'>
Your Drawings
</a>
<ul class='collapse nav nav-sidebar' id='drawings'>
<li>
<a href="../../../drawings/index.html">Create A Drawing</a>
</li>
<li class='section drawings-list small mt-1 hidden-xs-up'>
<strong>My Drawings</strong>
</li>
</ul>
</li>
</ul>
<ul class='nav nav-sidebar'>
<li class='section'>
<a class='section_link' data-section='reference' href='#'>
Reference
</a>
<ul class='collapse nav nav-sidebar' id='reference'>
<li class='section mt-1'>
<strong>Context2D</strong>
</li>
<li>
<a href="../../reference/clear_rect/index.html">clearRect()</a>
<span class='tag tag-default'>
<small class='clear_rect'>0 / 2</small>
</span>
<div class='reference-modal-content' id='reference-modal-clear_rect'>
<div class='title'>context.clearRect()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
context.clearRect(x, y, width, height) will clear a rectangle starting
at (x, y) and clearing to the right width and down height.
</p>
<p>This code will produce the image below:</p>
<pre class='mb-2'><code>context.fillStyle = '#FF0000';&#x000A;context.fillRect(0, 0, canvas.width, canvas.height);&#x000A;&#x000A;context.clearRect(40, 20, 20, 100);&#x000A;context.clearRect(60, 60, 20, 20);&#x000A;context.clearRect(80, 20, 20, 100);&#x000A;&#x000A;context.clearRect(120, 20, 60, 20);&#x000A;context.clearRect(140, 40, 20, 60);&#x000A;context.clearRect(120, 100, 60, 20);&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/clear_rect/reference-70cf88df0b9a8db2c33a8048af8493be9efdca18dd8ed4b2756cb0de8d8993af.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../reference/fill_rect/index.html">fillRect()</a>
<span class='tag tag-default'>
<small class='fill_rect'>0 / 3</small>
</span>
<div class='reference-modal-content' id='reference-modal-fill_rect'>
<div class='title'>context.fillRect()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
context.fillRect(x, y, width, height) will draw a rectangle starting
at (x, y) and filling the area "width" to the right and "height" down.
</p>
<p>This code will produce the image below:</p>
<pre class='mb-2'><code>context.fillRect(50, 50, 300, 200);&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/fill_rect/reference-ec68654dd34b051ccadd579a7b7b065ab4fa1eff1991e3d8df56cf72be3dee37.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../reference/fill_style/index.html">fillStyle</a>
<span class='tag tag-default'>
<small class='fill_style'>0 / 2</small>
</span>
<div class='reference-modal-content' id='reference-modal-fill_style'>
<div class='title'>context.fillStyle</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
context.fillStyle will set the color for all future fills such as
context.fillRect(). It's important to note theat context.fillStyle
is not a method, it is an attribute. You set it like so:
</p>
<pre class='mb-2'><code>context.fillStyle = 'red';&#x000A;</code></pre>
<p>This code will produce the image below:</p>
<pre class='mb-2'><code>context.fillStyle = 'rgb(0,255,0)';&#x000A;context.fillRect(50, 50, 100, 200);&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/fill_style/reference-8b359c7e565a86e657117d488129208cb37d2b93ac988ee482ddaf063385e12e.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../reference/line_to/index.html">lineTo()</a>
<span class='tag tag-default'>
<small class='line_to'>0 / 3</small>
</span>
<div class='reference-modal-content' id='reference-modal-line_to'>
<div class='title'>context.lineTo()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
context.lineTo(x, y) creates a path from the current point - default (0,0) -
to the point (x, y). In order to see the line you must call context.stroke().
</p>
<p>This code will produce the image below:</p>
<pre class='mb-2'><code>context.beginPath();&#x000A;context.moveTo(50, 50);&#x000A;context.lineTo(100,100);&#x000A;context.lineTo(150, 50);&#x000A;context.lineTo(200, 100);&#x000A;context.stroke();&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/line_to/reference-2c3b4d87c54a374ee06ac132f850d07869ed961fac25769a9e1309faf9709371.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../reference/save/index.html">save()</a>
<span class='tag tag-default'>
<small class='save'>0 / 1</small>
</span>
<div class='reference-modal-content' id='reference-modal-save'>
<div class='title'>context.save()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
context.save() saves all of the properties of the context. Then, when you call
context.restore() it will reset all changes to the context you've made.
</p>
<p>
This code will produce the image below (note how the second rectangle is black
and closer to the original origin despite calling translate and setting the
fillStyle earlier):
</p>
<pre class='mb-2'><code>context.save();&#x000A;context.translate(100,50);&#x000A;context.fillStyle = 'red';&#x000A;context.fillRect(10, 10, 25, 25);&#x000A;context.restore();&#x000A;&#x000A;context.fillRect(10, 10, 25, 25);&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/save/reference-cfdb7b48454c0b82fb5105cf7a1228776bbee579585d77bf2b7cdeab9f8eb32a.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../reference/scale/index.html">scale()</a>
<div class='reference-modal-content' id='reference-modal-scale'>
<div class='title'>context.scale()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
context.scale(percentX, percentY) scales the x and y coordinates of the context, making drawings
larger or smaller.
</p>
<p>
This code will produce the image below (note that all rectangles are defined to be the same size
in the code are drawn in different sizes due to the scale of the context):
</p>
<pre class='mb-2'><code>context.fillRect(25,25,25,25);&#x000A;context.scale(2, 1);&#x000A;context.fillRect(75,25,25,25);&#x000A;context.scale(0.5, 1);&#x000A;context.fillRect(150,25,25,25);&#x000A;context.scale(2, 2);&#x000A;context.fillRect(300,25,25,25);&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/scale/reference-0569c769850c52c53953d385626946099b407d1037f93af347311149e3a2fec6.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../reference/translate/index.html">translate()</a>
<span class='tag tag-default'>
<small class='translate'>0 / 1</small>
</span>
<div class='reference-modal-content' id='reference-modal-translate'>
<div class='title'>context.translate()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
context.translate(x, y) shifts the origin of the context (where the (0,0) point is)
right by x and down by y. This allows you to draw execute multiple commands in a specific
area of the context more easily.
</p>
<p>
This code will produce the image below (note how the fillRect commands are
relative to the translation point (100,100)):
</p>
<pre class='mb-2'><code>context.translate(50,50);&#x000A;context.fillStyle = 'red';&#x000A;context.fillRect(0, 0, 100, 100);&#x000A;context.fillStyle = 'green';&#x000A;context.fillRect(10, 10, 25, 25);&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/translate/reference-19fc53169ce0da0d057fb00b05eecfb3fc88513d1fa46cf4aceaa8fa19f51c26.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li class='section mt-1'>
<strong>Math</strong>
</li>
<li>
<a href="../../reference/floor/index.html">floor() / ceil()</a>
<div class='reference-modal-content' id='reference-modal-floor'>
<div class='title'>Math.floor() & Math.ceil()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
Math.floor() and Math.ceil() will round a number to the closest integer.
Math.floor() will always round down while Math.ceil() will always round up.
</p>
</div>
<div class='offset-xs-1 col-xs-10'>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/floor/visual1-9edc722b188f28c702178c13d60cbec037d2e4159d2b7b5f7782a0be2dd5f653.png" alt="Visual1" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../reference/random/index.html">random()</a>
<div class='reference-modal-content' id='reference-modal-random'>
<div class='title'>Math.random()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
Math.random() will produce a random decimal betweek 0 and 1. Calling it many
times will produce a different random number each time.
</p>
<p>
Often you will multiple Math.random() by another number to get a random
integer larger than 1. You may also call Math.floor() or Math.ceil() on the result
to get an rounded integer.
</p>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/random/reference-d1ee7adb1a0544e928f64c175595c9f081740954db0ae3f889f0627b4034c642.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
</ul>
</li>
</ul>
<ul class='nav nav-sidebar'>
<li class='section'>
<a class='section_link' data-section='concepts' href='#'>
Concepts
</a>
<ul class='collapse nav nav-sidebar' id='concepts'>
<li>
<a href="../../concepts/variables/index.html">Variables</a>
<span class='tag tag-default'>
<small class='variables'>0 / 2</small>
</span>
<div class='reference-modal-content' id='reference-modal-variables'>
<div class='title'>Variables</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
A variable allows you to store information to use or change later.
</p>
</div>
<div class='offset-xs-1 col-xs-10'>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/variables/visual1-b8e07ae4cdc5e13b2ee681381d7fa203f8442ff2e8abeb1cf4012cfb427439db.png" alt="Visual1" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../concepts/for_loops/index.html">For Loops</a>
<span class='tag tag-default'>
<small class='for_loops'>0 / 1</small>
</span>
<div class='reference-modal-content' id='reference-modal-for_loops'>
<div class='title'>For Loops</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
For-loops allow you to repeat code over and over again, potentially
adjusting the code a little bit each time.
</p>
<p>
The following code will produce the picture below:
</p>
<pre class='mb-2'><code>for (var i=1; i<10; ++i) {&#x000A;  context.fillRect(10 * i, 75 - (5 * i), 10 * i, 10 * i);&#x000A;}&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/for_loops/reference-ab4edc41708c315c5bc65d0ca07c1d49061a8185eb1420dbb6a056fa1be194bd.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../concepts/while_loops/index.html">While Loops</a>
<div class='reference-modal-content' id='reference-modal-while_loops'>
<div class='title'>While Loops</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
While-loops allow you to repeat code over and over again until a condition is met.
</p>
<p>
The following code will produce the picture below:
</p>
<pre class='mb-2'><code>var i = 10;&#x000A;while (i < 200) {&#x000A;  context.fillRect(5, 5, i, 50);&#x000A;  i += 10;&#x000A;}&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/while_loops/reference-b71bb24ae903b89143b68f3a561a455d71ca8c08674b34a2d9ffbde1753fc005.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../concepts/coordinates/index.html">Coordinates</a>
<span class='tag tag-default'>
<small class='coordinates'>0 / 2</small>
</span>
<div class='reference-modal-content' id='reference-modal-coordinates'>
<div class='title'>The Coordinate System</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
The coordinate system consists of X and Y values starting at (0, 0) in the upper left corner.
</p>
<p>
As you move down the canvas Y gets larger. As you move right on the canvas X gets larger.
</p>
<p>
So the point (100, 50) means you move right 100 and down 50.
</p>
<p class='text-xs-center'>
<img class="img-fluid" src="../../../assets/lessons/coordinates/visual1-1875ea0cb51a1c7ed92a016a2256ba53d9b3f7820a9feaa679521c14af4e7acd.png" alt="Visual1" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../concepts/functions/index.html">Functions</a>
<span class='tag tag-default'>
<small class='functions'>0 / 1</small>
</span>
<div class='reference-modal-content' id='reference-modal-functions'>
<div class='title'>Functions</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
Functions allow you to create chunks of code that can be called with
different parameters.
</p>
<p>
The following code will produce the picture below:
</p>
<pre class='mb-2'><code>function fillColorRect(x, y, w, h, color) {&#x000A;  context.save();&#x000A;  context.fillStyle = color;&#x000A;  context.fillRect(x, y, w, h);&#x000A;  context.restore();&#x000A;}&#x000A;&#x000A;fillColorRect(50, 50, 50, 50, 'red');&#x000A;fillColorRect(150, 50, 50, 50, 'blue');&#x000A;fillColorRect(250, 50, 50, 50, 'green');&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/functions/reference-2d2a07b0286e84d953685386201fe7e0bc20198460907e83c7895681f6b37a45.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../concepts/switch_statements/index.html">Switch Statements</a>
<div class='reference-modal-content' id='reference-modal-switch_statements'>
<div class='title'>Switch Statements</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
Switch statements allow you to perform different code depending on
the value of a variable.
</p>
<p>
The following code will produce the picture below (the switch statement
only performs the code inside of case 2 because "i" is set to 2):
</p>
<pre class='mb-2'><code>var i = 2;&#x000A;switch (i) {&#x000A;  case 1:&#x000A;    context.fillStyle = 'red';&#x000A;    break;&#x000A;  case 2:&#x000A;    context.fillStyle = 'yellow';&#x000A;    break;&#x000A;  case 3:&#x000A;    context.fillStyle = 'blue';&#x000A;    break;&#x000A;}&#x000A;context.fillRect(50, 50, 100, 50);&#x000A;&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/switch_statements/reference-3ab4709f6beedfca8a197ba64c75c9604abf7ccdb78c9adc16cf035c60914e8b.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../concepts/set_interval/index.html">setInterval()</a>
<div class='reference-modal-content' id='reference-modal-set_interval'>
<div class='title'>setInterval()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
setInterval() allows you to execute code at specified intervals. It
is frequently used to create animations.
</p>
<p>This code will produce the image below:</p>
<pre class='mb-2'><code>var index = 0;&#x000A;function count() {&#x000A;  context.font = "20px serif";&#x000A;  context.textAlign = 'center';&#x000A;  context.fillText(index, canvas.width / 2, canvas.height / 2);&#x000A;}&#x000A;setInterval(count, 1000)&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/set_interval/reference-a47ff17199d8182591ccb0d45fa57147ee1136677cff7955671c6a01337479fa.gif" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../concepts/event_listeners/index.html">Event Listeners</a>
<div class='reference-modal-content' id='reference-modal-event_listeners'>
<div class='title'>Event Listeners</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
Event listeners allow you to "listen" for an event, such as a click, on an element
in your html.
</p>
<p>
A full list of events can be found here:
<a target="_blank" href="https://www.tutorialspoint.com/html5/html5_events.htm">HTML5 Events</a>
</p>
<p>This code will produce the image below (if you were to click and draw the letters on the canvas):</p>
<pre class='mb-2'><code>canvas.addEventListener('mousemove', function(e) {&#x000A;  if (e.buttons === 0) return;&#x000A;  context.fillRect(e.layerX - 3, e.layerY - 3, 7, 7);&#x000A;});&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/event_listeners/reference-e166d58e874cfbbeb51fb29e622c9bf89d5c7a4aec6319d3953c94db43af1b0c.gif" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
</ul>
</li>
</ul>
<ul class='nav nav-sidebar'>
<li class='section my-1'>
<a class='section_link' data-section='dng_basic_cityscape' href='#'>DNG Basic Cityscape</a>
<ul class='collapse in nav nav-sidebar' id='dng_basic_cityscape'>
<li>
<a href="../stage1/index.html">Stage 1</a>
<span class='tag tag-default'>
<small class='dng_basic_cityscape_stage1'>0 / 4</small>
</span>
</li>
<li>
<a href="../stage2/index.html">Stage 2</a>
<span class='tag tag-default'>
<small class='dng_basic_cityscape_stage2'>0 / 3</small>
</span>
</li>
<li>
<a href="../stage3/index.html">Stage 3</a>
<span class='tag tag-default'>
<small class='dng_basic_cityscape_stage3'>0 / 4</small>
</span>
</li>
<li>
<a href="../stage4/index.html">Stage 4</a>
<span class='tag tag-default'>
<small class='dng_basic_cityscape_stage4'>0 / 4</small>
</span>
</li>
<li class='section small mt-2'>
<strong>Relevant Reference</strong>
</li>
<li class='small '>
<a class="reference-link" data-slug="dng_fill_rect" href="../dng_fill_rect/index.html">DNG fillRect()</a>
<span class='tag tag-default'>
<small class='dng_fill_rect'>0 / 6</small>
</span>
</li>
<li class='small '>
<a class="reference-link" data-slug="dng_fill_style" href="../dng_fill_style/index.html">DNG fillStyle</a>
<span class='tag tag-default'>
<small class='dng_fill_style'>0 / 3</small>
</span>
</li>
<li class='small active'>
<a class="reference-link" data-slug="dng_save" href="index.html">DNG save()/restore()</a>
<span class='tag tag-default'>
<small class='dng_save'>0 / 5</small>
</span>
</li>
<li class='small '>
<a class="reference-link" data-slug="dng_translate" href="../dng_translate/index.html">DNG translate()</a>
<span class='tag tag-default'>
<small class='dng_translate'>0 / 6</small>
</span>
</li>
<li class='small '>
<a class="reference-link" data-slug="dng_line_to" href="../dng_line_to/index.html">DNG lineTo()</a>
<span class='tag tag-default'>
<small class='dng_line_to'>0 / 6</small>
</span>
</li>
<li class='small '>
<a class="reference-link" data-slug="dng_random" href="../dng_random/index.html">DNG random()</a>
<span class='tag tag-default'>
<small class='dng_random'>0 / 4</small>
</span>
</li>
<li class='small '>
<a class="reference-link" data-slug="dng_round" href="../dng_round/index.html">DNG round()/floor()/ceil()</a>
<span class='tag tag-default'>
<small class='dng_round'>0 / 3</small>
</span>
</li>
<li class='small '>
<a class="reference-link" data-slug="dng_scale" href="../dng_scale/index.html">DNG scale()</a>
<span class='tag tag-default'>
<small class='dng_scale'>0 / 6</small>
</span>
</li>
<li class='section small mt-1'>
<strong>Relevant Concepts</strong>
</li>
<li class='small '>
<a class="reference-link" data-slug="dng_coordinates" href="../dng_coordinates/index.html">DNG Coordinates</a>
<span class='tag tag-default'>
<small class='dng_coordinates'>0 / 3</small>
</span>
</li>
<li class='small '>
<a class="reference-link" data-slug="dng_variables" href="../dng_variables/index.html">DNG Variables</a>
<span class='tag tag-default'>
<small class='dng_variables'>0 / 5</small>
</span>
</li>
<li class='small '>
<a class="reference-link" data-slug="dng_functions" href="../dng_functions/index.html">DNG Functions</a>
<span class='tag tag-default'>
<small class='dng_functions'>0 / 5</small>
</span>
</li>
<li class='small '>
<a class="reference-link" data-slug="dng_for_loops" href="../dng_for_loops/index.html">DNG For Loops</a>
<span class='tag tag-default'>
<small class='dng_for_loops'>0 / 6</small>
</span>
</li>
<li class='small '>
<a class="reference-link" data-slug="dng_switch_statements" href="../dng_switch_statements/index.html">DNG Switch Statements</a>
<span class='tag tag-default'>
<small class='dng_switch_statements'>0 / 4</small>
</span>
</li>
<li class='small '>
<a class="reference-link" data-slug="dng_while_loops" href="../dng_while_loops/index.html">DNG While Loops</a>
<span class='tag tag-default'>
<small class='dng_while_loops'>0 / 3</small>
</span>
</li>
</ul>
</li>
</ul>
<ul class='nav nav-sidebar hidden-xs-up'>
<li class='section'>
<a class='section_link' data-section='experimental' href='#'>
All
</a>
</li>
<ul class='nav nav-sidebar'>
<li class='section small'>
<strong>Active</strong>
<li class='small '>
<a href="../../granular_basic_cityscape/stage1/index.html">Basic Cityscape</a>
</li>
</li>
<li class='section small mt-2'>
<strong>Experimental</strong>
<li class='small '>
<a href="../../basic_cityscape/stage1/index.html">Original Basic Cityscape</a>
</li>
<li class='small '>
<a href="../../snake_game/stage1/index.html">Snake Game</a>
</li>
<li class='small '>
<a href="../../flappy_square/stage1/index.html">Flappy Square</a>
</li>
<li class='small '>
<a href="../../flappy_birds/stage1/index.html">Flappy Birds</a>
</li>
<li class='small '>
<a href="../stage1/index.html">DNG Basic Cityscape</a>
</li>
</li>
</ul>
</ul>

</div>
<div class='col-xs-12 offset-md-3 col-md-9 offset-lg-2 col-lg-10 main'>
<div class='lesson' id='dng_save'>
<h1>
context.save() / context.restore()
</h1>
<div class='description row py-3'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='py-2'>
Overview
</h2>
<figure class='float-xs-right px-2'>
<img class="img-fluid" src="../../../assets/lessons/dng_save/overviewVisual1-77a76ab63e37f9f2267600f4a965be5e07cb8969c6a6c7c4489d78dd12493d36.png" alt="Overviewvisual1" />
</figure>
<p>
The
<code>context.save()</code>
method saves the current drawing state of the canvas by pushing it onto a
stack. The
<code>context.restore()</code>
method restores the most recently saved drawing state by popping it from
the stack.
</p>
<p>
The drawing state is how the context remembers which fillStyle we are using
and the position and orientation of the coordinate system. It consists of the
current transformation matrix for the context's coordinate system, the current
clipping region, the current dash list used for drawing dashed lines, and the
current values stored in the following properties:
</p>
<ul>
<li>
<code>context.fillStyle</code>
</li>
<li>
<code>context.strokeStyle</code>
</li>
<li>
<code>context.lineWidth</code>
</li>
<li>
<code>context.lineCap</code>
</li>
<li>
<code>context.lineJoin</code>
</li>
<li>
<code>context.miterLimit</code>
</li>
<li>
<code>context.lineDashOffset</code>
</li>
<li>
<code>context.font</code>
</li>
<li>
<code>context.textAlign</code>
</li>
<li>
<code>context.textBaseline</code>
</li>
<li>
<code>context.direction</code>
</li>
<li>
<code>context.shadowOffsetX</code>
</li>
<li>
<code>context.shadowOffsetY</code>
</li>
<li>
<code>context.shadowBlur</code>
</li>
<li>
<code>context.shadowColor</code>
</li>
<li>
<code>context.globalAlpha</code>
</li>
<li>
<code>context.globalCompositeOperation</code>
</li>
<li>
<code>context.imageSmoothingEnabled</code>
</li>
</ul>
<p>
We can save the current drawing state using the
<code>context.save()</code>
method. This adds the current drawing state to the top of a stack of drawing states.
Then, when we use the
<code>context.restore()</code>
method, the drawing state at the top of the stack is restored.
</p>
<div class='source'>
<a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/save">Mozilla Developer&#39;s Network</a>
</div>
</div>
</div>
</div>
</div>
<div class='example row py-3'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='py-2'>
Save and Restore a Drawing State
</h2>
<p>
In this example, we set the
<code>context.fillStyle</code>
property to the color
<code>'LightSkyBlue'</code>
and draw a filled rectangle using the
<code>context.fillRect()</code>
method.
</p>
<pre><code>context.fillStyle = 'LightSkyBlue';&#x000A;context.fillRect(20, 20, 320, 240);</code></pre>
<p>
At this point, we save the current drawing state to the stack. In the current drawing state,
<span><code>context.fillStyle = 'LightSkyBlue'</code>.
</span>
</p>
<pre><code>context.save();</code></pre>
<p>
After saving the current drawing state, we change the
<code>context.fillStyle</code>
property to the color
<code>'Orchid'</code>
and draw second filled rectangle on top of the first.
</p>
<pre><code>context.fillStyle = 'Orchid';&#x000A;context.fillRect(60, 60, 200, 160);</code></pre>
<p>
Now, we want to draw another light sky blue rectangle on top of the orchid rectangle.
We could manually change the
<code>context.fillStyle</code>
property back to
<code>'LightSkyBlue'</code>
or we can restore the previous drawing state by using the
<code>context.restore()</code>
method.
</p>
<pre><code>context.restore();&#x000A;context.fillRect(100, 80, 120, 120);</code></pre>
<p>
This restores the drawing state back to its most recently saved state, when
<span><code>context.fillStyle = 'LightSkyBlue'</code>,
</span>
so the third rectangle is the same color as the first.
</p>
<p>
Visit the relevant lessons to learn more about
<span><code>context.fillRect()</code>,
</span>
<span><code>context.fillStyle</code>,
</span>
and the context's coordinate system.
</p>
<p>
<strong>Relevant Lessons:</strong>
<a class="reference-link" data-slug="dng_fill_rect" href="../dng_fill_rect/index.html">DNG fillRect()</a>, <a class="reference-link" data-slug="dng_fill_style" href="../dng_fill_style/index.html">DNG fillStyle</a>, <a class="reference-link" data-slug="dng_coordinates" href="../dng_coordinates/index.html">DNG Coordinates</a>
</p>

</div>
<div class='col-xs-12'>
<div class='interactive row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='dng_save_example1_editor'>var canvas = document.getElementById('dng_save_example1');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;context.fillStyle = 'LightSkyBlue';&#x000A;context.fillRect(20, 20, 320, 240);&#x000A;&#x000A;context.save(); // Save the current drawing state&#x000A;&#x000A;context.fillStyle = 'Orchid';&#x000A;context.fillRect(60, 60, 200, 160);&#x000A;&#x000A;context.restore(); // Restore the most recently saved drawing state&#x000A;context.fillRect(100, 80, 120, 120);&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='run btn btn-success'>
Run
</div>
<div class='reset btn btn-danger float-xs-right'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='dng_save_example1'></canvas>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='challenge row py-3' id='challenge1'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='challenge-title py-2'>
Challenge 1
</h2>
<figure class='float-xs-right px-2'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/dng_save/challenge1Visual1-d7e8c8483f5548f98435405be4c0e85e2156ad62fb0ebe0781f732d9d091abd0.png" alt="Challenge1visual1" />
<figcaption class='text-xs-center small'>What your drawing should look like</figcaption>
</figure>
<p>
Rearrange the lines of code below to draw the image to the right.
</p>
<p>
Draw the large gray rectangle first and save the drawing state. Draw the two
green rectangles next. Then, restore the drawing state to draw the three small
gray rectangles. As long as the code is placed in the correct order, you should
not have to type any code yourself.
</p>
</div>
</div>
<div class='row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='dng_save_challenge1_editor'>var canvas = document.getElementById('dng_save_challenge1');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;context.save();&#x000A;context.restore();&#x000A;&#x000A;context.fillStyle = 'Gray';&#x000A;context.fillStyle = 'MediumSeaGreen';&#x000A;&#x000A;// Large gray rectangle&#x000A;context.fillRect(20, 20, 320, 240);&#x000A;&#x000A;// Two green rectangles&#x000A;context.fillRect(40, 40, 130, 200);&#x000A;context.fillRect(190, 40, 130, 200);&#x000A;&#x000A;// Three small gray rectangles&#x000A;context.fillRect(60, 60, 90, 70);&#x000A;context.fillRect(60, 150, 90, 70);&#x000A;context.fillRect(210, 60, 90, 160);&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='run btn btn-success'>
Run
</div>
<div class='reset btn btn-danger float-xs-right'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<div class='background hidden-xl-down'><img src="../../../assets/lessons/dng_save/challenge1-2d0d124c6a082758a5a81dee95a906645f6a028802eeaf7a42274c4a47910ced.png" alt="Challenge1" /></div>
<canvas id='dng_save_challenge1'></canvas>
</div>
<div class='alert'></div>
</div>
</div>
</div>
</div>
<div class='example row py-3'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='py-2'>
Restore the Drawing State After Executing a Function
</h2>
<p>
In this example, we set the
<code>context.fillStyle</code>
to the color
<code>'BurlyWood'</code>
and draw a filled rectangle.
</p>
<pre><code>context.fillStyle = 'BurlyWood';&#x000A;context.fillRect(40, 20, 360, 80);</code></pre>
<p>
We then use the
<code>drawPurpleText()</code>
function to draw a purple text string on top of the rectangle.
</p>
<pre><code>drawPurpleText(50, 70, 'This text is purple!');</code></pre>
<p>
The next time we draw a filled rectangle, it would be natural for us to think
it will be filled with the color
<span><code>'BurlyWood'</code>.
</span>
After all, we haven't changed the fillStyle since drawing the first rectangle.
But we would be wrong. The
<code>drawPurpleText()</code>
function has changed the
<code>context.fillStyle</code>
property and the
<code>context.font</code>
property.
</p>
<pre><code>function drawPurpleText(x, y, text) {&#x000A;  context.font = '36px Arial';&#x000A;  context.fillStyle = 'RebeccaPurple';&#x000A;  context.fillText(text, x, y);&#x000A;}</code></pre>
<p>
In general, a function should be self-contained. If it makes changes to the drawing
state, it should undo those changes immediately once the function is done. Otherwise,
it can be difficult for the programmer to know the exact state of the canvas at all
times.
</p>
<p>
The simplest way to ensure a function undoes its changes to the drawing
state is to wrap the code in the function with a
<code>context.save()</code>
at the start of the function and a
<code>context.restore()</code>
at the end. The
<code>context.save()</code>
saves the drawing state before the function makes any changes, and then the
<code>context.restore()</code>
restores it.
</p>
<pre><code>function drawPurpleText(x, y, text) {&#x000A;  context.save();&#x000A;  context.font = '36px Arial';&#x000A;  context.fillStyle = 'RebeccaPurple';&#x000A;  context.fillText(text, x, y);&#x000A;  context.restore();&#x000A;}</code></pre>
<p>
If you wrap the code in the
<code>drawPurpleText()</code>
function with a
<code>context.save()</code>
and
<span><code>context.restore()</code>,
</span>
the second rectangle will now be filled with the color
<span><code>'BurlyWood'</code>,
</span>
which is what we would expect.
</p>
<p>
Visit the relevant lessons to learn more about
<span><code>context.fillRect()</code>,
</span>
<span><code>context.fillStyle</code>,
</span>
the context's coordinate system, and functions.
</p>
<p>
<strong>Relevant Lessons:</strong>
<a class="reference-link" data-slug="dng_fill_rect" href="../dng_fill_rect/index.html">DNG fillRect()</a>, <a class="reference-link" data-slug="dng_fill_style" href="../dng_fill_style/index.html">DNG fillStyle</a>, <a class="reference-link" data-slug="dng_coordinates" href="../dng_coordinates/index.html">DNG Coordinates</a>, <a class="reference-link" data-slug="dng_functions" href="../dng_functions/index.html">DNG Functions</a>
</p>

</div>
<div class='col-xs-12'>
<div class='interactive row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='dng_save_example2_editor'>var canvas = document.getElementById('dng_save_example2');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;context.fillStyle = 'BurlyWood';&#x000A;context.fillRect(40, 20, 360, 80);&#x000A;drawPurpleText(50, 70, 'This text is purple!');&#x000A;context.fillRect(40, 120, 360, 80);&#x000A;drawPurpleText(50, 170, 'This function is neat!');&#x000A;&#x000A;function drawPurpleText(x, y, text) {&#x000A;  context.font = '36px Arial';&#x000A;  context.fillStyle = 'RebeccaPurple';&#x000A;  context.fillText(text, x, y);&#x000A;}&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='run btn btn-success'>
Run
</div>
<div class='reset btn btn-danger float-xs-right'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='dng_save_example2'></canvas>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='challenge row py-3' id='challenge2'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='challenge-title py-2'>
Challenge 2
</h2>
<figure class='float-xs-right px-2'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/dng_save/challenge2Visual1-b985421612eb23487dca94dcc5be3919ab3587bc2f6448743e5bdf6d5359d215.png" alt="Challenge2visual1" />
<figcaption class='text-xs-center small'>What your drawing should look like</figcaption>
</figure>
<p>
The
<code>fillCircle()</code>
function draws a circle centered at coordinates
<span>
(<code>x</code>,
</span>
<span><code>y</code>)
</span>
with radius
<span><code>r</code>,
</span>
and fills it with the color currently stored in the
<code>context.fillStyle</code>
property.
</p>
<pre><code>function fillCircle(x, y, r) {&#x000A;  context.beginPath();&#x000A;  context.arc(x, y, r, 0, 2 * Math.PI, false);&#x000A;  context.closePath();&#x000A;  context.fill();&#x000A;}</code></pre>
<p>
Copy the code from the
<code>fillCircle()</code>
function defintion into the
<code>fillWhiteCircle()</code>
function definition. But, instead of filling the circle using the current fillStyle,
fill it with the color
<span><code>'White'</code>.
</span>
</p>
<p>
If your
<code>fillWhiteCircle()</code>
function is self-contained and undoes any changes made to the drawing state once it is
done, then you will draw the image to the right.
</p>
</div>
</div>
<div class='row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='dng_save_challenge2_editor'>var canvas = document.getElementById('dng_save_challenge2');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;function fillCircle(x, y, r) {&#x000A;  context.beginPath();&#x000A;  context.arc(x, y, r, 0, 2 * Math.PI, false);&#x000A;  context.closePath();&#x000A;  context.fill();&#x000A;}&#x000A;&#x000A;function fillWhiteCircle(x, y, r) {&#x000A;  &#x000A;  // COPY THE CODE FROM THE fillCircle() FUNCTION HERE&#x000A;  // EDIT THE CODE SO IT FILLS THE CIRCLE WITH THE COLOR WHITE INSTEAD OF THE CURRENT FILLSTYLE&#x000A;  &#x000A;}&#x000A;&#x000A;context.fillStyle = 'DarkOrange';&#x000A;fillCircle(210, 100, 80);&#x000A;fillWhiteCircle(210, 100, 60);&#x000A;fillCircle(210, 100, 40);&#x000A;fillWhiteCircle(210, 100, 20);&#x000A;&#x000A;context.fillStyle = 'SaddleBrown';&#x000A;fillCircle(100, 220, 80);&#x000A;fillWhiteCircle(100, 220, 60);&#x000A;fillCircle(100, 220, 40);&#x000A;fillWhiteCircle(100, 220, 20);&#x000A;&#x000A;context.fillStyle = 'FireBrick';&#x000A;fillCircle(320, 220, 80);&#x000A;fillWhiteCircle(320, 220, 60);&#x000A;fillCircle(320, 220, 40);&#x000A;fillWhiteCircle(320, 220, 20);&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='run btn btn-success'>
Run
</div>
<div class='reset btn btn-danger float-xs-right'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='dng_save_challenge2'></canvas>
</div>
<div class='alert'></div>
</div>
</div>
</div>
</div>
<div class='example row py-3'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='py-2'>
Save and Restore Multiple Drawing States
</h2>
<figure class='float-xs-right px-2'>
<img class="img-fluid" src="../../../assets/lessons/dng_save/example3Visual1-356fec8842ba61335324ddd7a19a02fe3bec7ada4355522ea73f610cceaed18b.png" alt="Example3visual1" />
</figure>
<p>
Because we are saving drawing states to a stack, we can save multiple states
before restoring them later. The main thing to remember is that, when restoring
a drawing state, we always restore the most recently saved drawing state first.
</p>
<p>
In this example, we start by saving the original drawing state. Just like we
save and then restore the drawing state in a function, it's also a good idea to
save and restore the drawing state in a program. It's especially important when
we are animating a drawing by drawing over the same canvas over and over again.
</p>
<p>
Each time we save a drawing state, it gets added to the top of the stack. The
original drawing state is on the bottom of the stack because it was saved first.
By the time we restore a drawing state, there are four drawing states on the
stack. The first drawing state restored is drawing state C because it is on top
of the stack as the most recently saved drawing state. We restore the original
drawing state last at the end of the program.
</p>
<p>
If it helps, think of the
<code>context.save()</code>
and
<code>context.restore()</code>
methods like opening and closing parentheses. Just like parentheses can be
nested inside of other parentheses, we can nest a
<code>context.save()</code>
and
<code>context.restore()</code>
inside of another
<code>context.save()</code>
and<code>context.restore()</code>as long as they are paired.
</p>
<p>
Visit the relevant lessons to learn more about
<span><code>context.fillRect()</code>,
</span>
<span><code>context.fillStyle</code>,
</span>
and the context's coordinate system.
</p>
<p>
<strong>Relevant Lessons:</strong>
<a class="reference-link" data-slug="dng_fill_rect" href="../dng_fill_rect/index.html">DNG fillRect()</a>, <a class="reference-link" data-slug="dng_fill_style" href="../dng_fill_style/index.html">DNG fillStyle</a>, <a class="reference-link" data-slug="dng_coordinates" href="../dng_coordinates/index.html">DNG Coordinates</a>
</p>

</div>
<div class='col-xs-12'>
<div class='interactive row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='dng_save_example3_editor'>var canvas = document.getElementById('dng_save_example3');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;context.save(); // Save original drawing state&#x000A;&#x000A;context.fillStyle = 'DarkViolet';&#x000A;context.fillRect(20, 20, 320, 240);&#x000A;drawText(25, 251, 'Drawing State A');&#x000A;context.save(); // Save drawing state A&#x000A;&#x000A;context.fillStyle = 'DarkSlateBlue';&#x000A;context.fillRect(20, 20, 290, 210);&#x000A;drawText(25, 221, 'Drawing State B');&#x000A;context.save(); // Save drawing state B&#x000A;&#x000A;context.fillStyle = 'ForestGreen';&#x000A;context.fillRect(20, 20, 260, 180);&#x000A;drawText(25, 191, 'Drawing State C');&#x000A;context.save(); // Save drawing state C&#x000A;&#x000A;context.fillStyle = 'Brown';&#x000A;context.fillRect(20, 20, 230, 150);&#x000A;&#x000A;context.restore(); // Restore drawing state C&#x000A;context.fillRect(20, 20, 200, 120);&#x000A;drawText(25, 131, 'Drawing State C');&#x000A;&#x000A;context.restore(); // Restore drawing state B&#x000A;context.fillRect(20, 20, 170, 90);&#x000A;drawText(25, 101, 'Drawing State B');&#x000A;&#x000A;context.restore(); // Restore drawing state A&#x000A;context.fillRect(20, 20, 140, 60);&#x000A;drawText(25, 71, 'Drawing State A');&#x000A;&#x000A;context.restore(); // Restore original drawing state&#x000A;&#x000A;function drawText(x, y, text) {&#x000A;  context.save();&#x000A;  context.fillStyle = 'White';&#x000A;  context.font = '16px Arial';&#x000A;  context.fillText(text, x, y);&#x000A;  context.restore();&#x000A;}&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='run btn btn-success'>
Run
</div>
<div class='reset btn btn-danger float-xs-right'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='dng_save_example3'></canvas>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='challenge row py-3' id='challenge3'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='challenge-title py-2'>
Challenge 3
</h2>
<figure class='float-xs-right px-2'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/dng_save/challenge3Visual1-97b57d412dd80e2fb310b143a3cfc9321984c36f91b5fe4bfcb2dfb42b047670.png" alt="Challenge3visual1" />
<figcaption class='text-xs-center small'>What your drawing should look like</figcaption>
</figure>
<p>
Without changing the order of the lines of code in the program below, add calls to the
<code>context.save()</code>
and
<code>context.restore()</code>
methods so the program draws the image to the right.
</p>
<p>
Think about the colors stored in the
<code>context.fillStyle</code>
property you will need to save so you can restore and use them later.
</p>
</div>
</div>
<div class='row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='dng_save_challenge3_editor'>var canvas = document.getElementById('dng_save_challenge3');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;context.save(); // Save original drawing state&#x000A;context.fillStyle = 'Red';&#x000A;context.fillRect(10, 20, 40, 240);&#x000A;context.fillStyle = 'Orange';&#x000A;context.fillRect(50, 20, 40, 240);&#x000A;context.fillStyle = 'Yellow';&#x000A;context.fillRect(90, 20, 40, 240);&#x000A;context.fillStyle = 'Green';&#x000A;context.fillRect(130, 20, 40, 240);&#x000A;context.fillStyle = 'Blue';&#x000A;context.fillRect(170, 20, 40, 240);&#x000A;context.fillStyle = 'Indigo';&#x000A;context.fillRect(210, 20, 40, 240);&#x000A;context.fillStyle = 'Violet';&#x000A;context.fillRect(250, 20, 40, 240);&#x000A;context.fillRect(290, 20, 40, 240);&#x000A;context.fillRect(330, 20, 40, 240);&#x000A;context.fillRect(370, 20, 40, 240);&#x000A;context.restore(); // Restore original drawing state&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='run btn btn-success'>
Run
</div>
<div class='reset btn btn-danger float-xs-right'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='dng_save_challenge3'></canvas>
</div>
<div class='alert'></div>
</div>
</div>
</div>
</div>
<div class='example row py-3'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='py-2'>
Save and Restore the Coordinate System
</h2>
<p>
The drawing state does more than store the value of the
<code>context.fillStyle</code>
property. It also stores the current transformation matrix for the coordinate
system.
</p>
<p>
In this example, we position squares to form the letter F by using the
<code>context.translate()</code>
method to move the origin of the coordinate system instead of drawing the squares
at specific coordinates.
</p>
<p>
We start by saving the original drawing state and setting the
<code>context.fillStyle</code>
property to the color
<span><code>'DeepPink'</code>.
</span>
</p>
<pre><code>context.save(); // Save original drawing state&#x000A;context.fillStyle = 'DeepPink';</code></pre>
<p>
Then, we move the origin of the coordinate system to (40, 40). This is where
we will start forming the letter F.
</p>
<pre><code>context.translate(40, 40);</code></pre>
<p>
The plan is to draw five squares in a row straight down to form the back of the
letter F. But before we do, we save the drawing state so we can easily return to
this position at the top of the letter later.
</p>
<pre><code>context.save(); // Save drawing state A</code></pre>
<p>
To draw the five squares down the back of the letter F, we draw a square,
move the origin of the coordinate system down 50 pixels, draw another square,
move the origin down another 50 pixels, etc. By moving the coordinate system,
each square is actually drawn at (0, 0).
</p>
<pre><code>context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.save(); // Save drawing state B&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);</code></pre>
<p>
After translating the coordinate system to draw the third square, we save the
drawing state again. Why? This is so we can return to this position later to draw
the horizontal bar in the middle of the F.
</p>
<p>
Once we reach the bottom of the letter F and draw the fifth square, we use the
<code>context.restore()</code>
method to return to the middle of the letter where we want to draw the horizontal bar.
</p>
<pre><code>context.restore(); // Restore drawing state B</code></pre>
<p>
To draw the horizontal bar in the middle of the letter F, we translate 50 pixels
to the right and draw a square. Then, we use the
<code>context.restore()</code>
method again to return to the top of the letter.
</p>
<pre><code>context.translate(50, 0);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.restore(); // Restore drawing state A</code></pre>
<p>
The only thing left to do is draw the horizontal bar at the top of the letter F
by drawing two more squares in a row, translating 50 pixels to the right each time.
With the letter complete, we use the
<code>context.restore()</code>
method one last time to restore the original drawing state.
</p>
<pre><code>context.translate(50, 0);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(50, 0);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.restore(); // Restore original drawing state</code></pre>
<p>
If you are having a hard time figuring out where the origin of the coordinate system
is after a translation, use the
<code>drawBlackDotAtOrigin()</code>
function to draw a black dot at the origin.
</p>
<p>
Visit the relevant lessons to learn more about
<span><code>context.fillRect()</code>,
</span>
<span><code>context.fillStyle</code>,
</span>
<span><code>context.translate()</code>,
</span>
and the context's coordinate system.
</p>
<p>
<strong>Relevant Lessons:</strong>
<a class="reference-link" data-slug="dng_fill_rect" href="../dng_fill_rect/index.html">DNG fillRect()</a>, <a class="reference-link" data-slug="dng_fill_style" href="../dng_fill_style/index.html">DNG fillStyle</a>, <a class="reference-link" data-slug="dng_translate" href="../dng_translate/index.html">DNG translate()</a>, <a class="reference-link" data-slug="dng_coordinates" href="../dng_coordinates/index.html">DNG Coordinates</a>
</p>

</div>
<div class='col-xs-12'>
<div class='interactive row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='dng_save_example4_editor'>var canvas = document.getElementById('dng_save_example4');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;context.save(); // Save original drawing state&#x000A;&#x000A;context.fillStyle = 'DeepPink';&#x000A;context.translate(40, 40);&#x000A;context.save(); // Save drawing state A&#x000A;&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.save(); // Save drawing state B&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;&#x000A;context.restore(); // Restore drawing state B&#x000A;context.translate(50, 0);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;&#x000A;context.restore(); // Restore drawing state A&#x000A;context.translate(50, 0);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(50, 0);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;&#x000A;context.restore(); // Restore original drawing state&#x000A;&#x000A;function drawBlackDotAtOrigin() {&#x000A;  context.save();&#x000A;  context.fillStyle = 'Black';&#x000A;  context.beginPath();&#x000A;  context.arc(0, 0, 4, 0, 2 * Math.PI, false);&#x000A;  context.closePath();&#x000A;  context.fill();&#x000A;  context.restore();&#x000A;}&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='run btn btn-success'>
Run
</div>
<div class='reset btn btn-danger float-xs-right'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='dng_save_example4'></canvas>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='challenge row py-3' id='challenge4'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='challenge-title py-2'>
Challenge 4
</h2>
<figure class='float-xs-right px-2'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/dng_save/challenge4Visual1-9a25c7894f6a97809d91c25c5c5933bb38b0080235bcc05cf39d3fdfda2703ac.png" alt="Challenge4visual1" />
<figcaption class='text-xs-center small'>What your drawing should look like</figcaption>
</figure>
<p>
Without changing the order of the lines of code in the program below, add calls to the
<code>context.save()</code>
and
<code>context.restore()</code>
methods so the program draws the image to the right.
</p>
<p>
Right now, the program is drawing five squares in a row vertically down, two
squares in a row horizontally to the right, two squares in a row vertically up,
and finally two squares in a row vertically down.
</p>
<p>
Think about the positions you will need to save so you can restore and return to them
later. If you are having a hard time figuring out where the origin of the coordinate system
is after a translation, use the
<code>drawBlackDotAtOrigin()</code>
function to draw a black dot at the origin.
</p>
</div>
</div>
<div class='row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='dng_save_challenge4_editor'>var canvas = document.getElementById('dng_save_challenge4');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;context.save(); // Save original drawing state&#x000A;&#x000A;context.fillStyle = 'DodgerBlue';&#x000A;context.translate(40, 40);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(50, 0);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(50, 0);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, -50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, -50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;&#x000A;context.restore(); // Restore original drawing state&#x000A;&#x000A;function drawBlackDotAtOrigin() {&#x000A;  context.save();&#x000A;  context.fillStyle = 'Black';&#x000A;  context.beginPath();&#x000A;  context.arc(0, 0, 4, 0, 2 * Math.PI, false);&#x000A;  context.closePath();&#x000A;  context.fill();&#x000A;  context.restore();&#x000A;}&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='run btn btn-success'>
Run
</div>
<div class='reset btn btn-danger float-xs-right'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<div class='background hidden-xl-down'><img src="../../../assets/lessons/dng_save/challenge4-4da4818cb24c3ac9d8576f1e5493144f524bd74c48fe41fedb87fd9032a32cec.png" alt="Challenge4" /></div>
<canvas id='dng_save_challenge4'></canvas>
</div>
<div class='alert'></div>
</div>
</div>
</div>
</div>
<div class='example row py-3'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='py-2'>
Restore the Same Drawing State Multiple Times
</h2>
<p>
There are situations where we want to restore to the same drawing state more
than once. This is simple to do. We just have to remember that, when we restore
a drawing state, we pop it off the stack. So, if we want to restore to that
same state again later, we need to re-save it to push it back onto the stack.
</p>
<p>
In this example, we use the
<code>context.translate()</code>
method to draw squares in the form of the letter K. To form the letter K, we
have to return to the same position in the middle of the vertical line twice,
once to draw the diagonal line up and again to draw the diagonal line down.
</p>
<p>
We start by saving the original drawing state, setting the
<code>context.fillStyle</code>
property to the color
<span><code>'Orange'</code>,
</span>
and then translating to the top of the K at (40, 40).
</p>
<pre><code>context.save(); // Save original drawing state&#x000A;context.fillStyle = 'Orange';&#x000A;context.translate(40, 40);</code></pre>
<p>
Then, we draw five squares in a row vertically down, translating 50 pixels down
each time. After moving the origin of the coordinate system to the position of the
third square, we save the drawing state so we can return to that position later.
</p>
<pre><code>context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.save(); // Save drawing state A&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);</code></pre>
<p>
To draw the diagonal line up, we restore drawing state A, moving the origin of the
coordinate system back to the position of the third block. Since we know we will have
to return to this position again, we immediately re-save drawing state A. We form
the diagonal line up by translating 50 pixels up and 50 pixels to the right.
</p>
<pre><code>context.restore(); // Restore drawing state A&#x000A;context.save(); // Re-save drawing state A&#x000A;context.translate(50, -50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(50, -50);&#x000A;context.fillRect(0, 0, 45, 45);</code></pre>
<p>
To draw the diagonal line down, we repeat the process, restoring drawing state A again.
We form the diagonal line down by translating 50 pixels down and 50 pixels to the right.
Then, with the letter K complete, we restore the original drawing state.
</p>
<pre><code>context.restore(); // Restore drawing state A again&#x000A;context.translate(50, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(50, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.restore(); // Restore original drawing state</code></pre>
<p>
If you are having a hard time figuring out where the origin of the coordinate system
is after a translation, use the
<code>drawBlackDotAtOrigin()</code>
function to draw a black dot at the origin.
</p>
<p>
Visit the relevant lessons to learn more about
<span><code>context.fillRect()</code>,
</span>
<span><code>context.fillStyle</code>,
</span>
<span><code>context.translate()</code>,
</span>
and the context's coordinate system.
</p>
<p>
<strong>Relevant Lessons:</strong>
<a class="reference-link" data-slug="dng_fill_rect" href="../dng_fill_rect/index.html">DNG fillRect()</a>, <a class="reference-link" data-slug="dng_fill_style" href="../dng_fill_style/index.html">DNG fillStyle</a>, <a class="reference-link" data-slug="dng_translate" href="../dng_translate/index.html">DNG translate()</a>, <a class="reference-link" data-slug="dng_coordinates" href="../dng_coordinates/index.html">DNG Coordinates</a>
</p>

</div>
<div class='col-xs-12'>
<div class='interactive row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='dng_save_example5_editor'>var canvas = document.getElementById('dng_save_example5');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;context.save(); // Save original drawing state&#x000A;context.fillStyle = 'Orange';&#x000A;context.translate(40, 40);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.save(); // Save drawing state A&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(0, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.restore(); // Restore drawing state A&#x000A;context.save(); // Re-save drawing state A&#x000A;context.translate(50, -50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(50, -50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.restore(); // Restore drawing state A again&#x000A;context.translate(50, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(50, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.restore(); // Restore original drawing state&#x000A;&#x000A;function drawBlackDotAtOrigin() {&#x000A;  context.save();&#x000A;  context.fillStyle = 'Black';&#x000A;  context.beginPath();&#x000A;  context.arc(0, 0, 4, 0, 2 * Math.PI, false);&#x000A;  context.closePath();&#x000A;  context.fill();&#x000A;  context.restore();&#x000A;}&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='run btn btn-success'>
Run
</div>
<div class='reset btn btn-danger float-xs-right'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='dng_save_example5'></canvas>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='challenge row py-3' id='challenge5'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='challenge-title py-2'>
Challenge 5
</h2>
<figure class='float-xs-right px-2'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/dng_save/challenge5Visual1-fc49aa4c8d6e3d5c0241deb57838f49cace736ec4fe81c58a597fd9b731410fd.png" alt="Challenge5visual1" />
<figcaption class='text-xs-center small'>What your drawing should look like</figcaption>
</figure>
<p>
Without changing the order of the lines of code in the program below, add calls to the
<code>context.save()</code>
and
<code>context.restore()</code>
methods so the program draws the image to the right.
</p>
<p>
Right now, the program is drawing five squares in a row diagonally down, two
squares in a row diagonally up, and two squares in a row diagonally down and
to the left.
</p>
<p>
Think about the positions you will need to save so you can restore and return to them
later. If you are having a hard time figuring out where the origin of the coordinate system
is after a translation, use the
<code>drawBlackDotAtOrigin()</code>
function to draw a black dot at the origin.
</p>
</div>
</div>
<div class='row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='dng_save_challenge5_editor'>var canvas = document.getElementById('dng_save_challenge5');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;context.save(); // Save original drawing state&#x000A;&#x000A;context.fillStyle = 'Crimson';&#x000A;context.translate(40, 40);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(50, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(50, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(50, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(50, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(50, -50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(50, -50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(-50, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;context.translate(-50, 50);&#x000A;context.fillRect(0, 0, 45, 45);&#x000A;&#x000A;context.restore(); // Restore original drawing state&#x000A;&#x000A;function drawBlackDotAtOrigin() {&#x000A;  context.save();&#x000A;  context.fillStyle = 'Black';&#x000A;  context.beginPath();&#x000A;  context.arc(0, 0, 4, 0, 2 * Math.PI, false);&#x000A;  context.closePath();&#x000A;  context.fill();&#x000A;  context.restore();&#x000A;}&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='run btn btn-success'>
Run
</div>
<div class='reset btn btn-danger float-xs-right'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<div class='background hidden-xl-down'><img src="../../../assets/lessons/dng_save/challenge5-655768f3c1b8217f99928b4bca37f7e00b613e5e6591c0cf1e59d3aa65273b75.png" alt="Challenge5" /></div>
<canvas id='dng_save_challenge5'></canvas>
</div>
<div class='alert'></div>
</div>
</div>
</div>
</div>
</div>

<div aria-hidden='true' aria-labelledby='referenceModalLabel' class='modal fade' id='reference-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<button aria-label='Close' class='close' data-dismiss='modal' type='button'>
<span aria-hidden='true'>×</span>
</button>
<h4 class='modal-title' id='referenceModalLabel'></h4>
</div>
<div class='modal-body'></div>
<div class='modal-footer'>
<div class='float-xs-right'>
<button class='btn btn-secondary' data-dismiss='modal' type='button'>Close</button>
</div>
<div class='text-xs-left'>
<button class='btn btn-primary text-white lesson-link'>View Full Lesson</button>
</div>
</div>
</div>
</div>
</div>
<div class='py-3'>
<h2>
Ready for the next lesson?
</h2>
<p class='py-1'>
Next up, the
<a href="../dng_translate/index.html">&quot;DNG translate()&quot; lesson &gt;</a>
</p>
</div>
</div>
</div>
</div>
</body>
</html>

<!-- Localized -->