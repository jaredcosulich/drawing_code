<!DOCTYPE html>
<html>
<head>
<meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
<title>Drawing Code</title>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="wCTewOXE8IRJKeGWvE0/Nz9jBGcnoTwzfk4r0/50+OtroI7iGjMgwnGYEWFELrh3rXGC2NCBGnYXiipguQamHw==" />
<link rel="stylesheet" media="all" href="../../../assets/application.self-c08129b7622a5bcbc6d6b9348a1accccdeb8a444e90ede9af9efd54bc6fb67ea-body=1.css" data-turbolinks-track="reload" />
<script src="../../../assets/jquery.self-660adc51e0224b731d29f575a6f1ec167ba08ad06ed5deca4f1e8654c135bf4c.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/jquery_ujs.self-e87806d0cf4489aeb1bb7288016024e8de67fd18db693fe026fe3907581e53cd.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/bootstrap.self-4e71bfbf6aff83432bb0f204b1cfa3beaf9d05f0d2acf9ec752924a628245be1.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/ace/ace.self-0acb0427eef086a17859bfe56ecfaf24bc47c928ad7db87d5ec5bf235e40cb40.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/ace/mode-javascript.self-f62f7e63cad01dbe717d22344bf979ec13fa33f523d1b94b1576022bd4aa4d7a.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/action_cable.self-1641ec3e8ea24ed63601e86efcca7f9266e09f390e82199d56aa7e4bd50e1aa9.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/cable.self-6e0514260c1aa76eaf252412ce74e63f68819fd19bf740595f592c5ba4c36537.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/code_preview.self-167bac5d09ac856171e9d10ca3e2fcd6feb7ab4afb76cf0c4dec85f062976d60.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/drawings.self-38f1307ac5108a326b9c286691b846622cbaebf7c0bbab1bb453643d1e339fe7.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/init.self-c18177b914f2264768071275a0620026bda8f5c4d8659f31b025460b94b6e6e8.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/jasmine_examples/Player.self-df86cadc05ae752e78b03dabdf6332dfdb2fb5016d4cf4572c81e57779cc62c4.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/jasmine_examples/Song.self-676a725aa543d21fbf2f98b899a89804ae472e93d25bc4f115b4914af237a610.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lesson.self-9ae12ddb887cfd3654ed80dbce5b80b03d03656193fb663542161e096d1c6260.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/basicCityscapeStage1.self-769ec561ca38524e5af6766aada036dde32967580a07879462c1e169a48b86c0.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/basicCityscapeStage2.self-bb5cfbde44b97f0b9658159d2058b56e0869a3d9f04a2ce4f7ae00204dabc8bf.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/basicCityscapeStage3.self-33b70a75ee9c8a75cd9271487468085a2fb35efc7e1eec982e429e86044fbe73.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/basicCityscapeStage4.self-4957bde1f87185b2af8f89378f34a48bcf35b3f490b647b26fe8e9fc2c6c28bd.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/clearRect.self-9e82ca8aa93793f04e73caa7f25eaf5e8c815cbe718ac5f4747de25ef19efce9.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/coordinates.self-e8ed0e1bacf18d0af11e6602fdfbc3026535cadd0a5464c80884b3e7b545cc69.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/fillRect.self-9e0e0969e446a2f464878a94809b7b44591a6ae159472a8744b33622cbec1b46.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/fillStyle.self-ee4e83b95686dac1cd630c036eb0353cfaeaa2b9701b0c7a6565ba0dc6091ec7.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/for_loops.self-9dce154b577b9344744a8e7d16f6ca874805d4a157a4c326af1e9fd1e30627d5.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/functions.self-492d38bff26f435c0469d8a38da45ce7857e334d3bc3a41d8d4b97d5571abd02.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/lineTo.self-4487acd17954cf1c89680bde8f16459c34279c0e0b10276e2dc4e1b1ae185d1c.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/save.self-40009da7858c56166ef5dbae9087a3b9cdc7b0c7bbf2c49751dc35678f068df5.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/translate.self-12f5a51ccf4b3f0f72e2079f0069bab57fd3af696731c66057284b4338745fba.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/variables.self-c87145ec3cf2327e7b3eb2ef815bed8ee4b3a42f7408ff8faa7e3353fb824132.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/app/canvas.self-7b607cac23a26f3ce093917627e9b6f8916f02bd10cea861d1570a8285a8d260.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/app/editor.self-4fed57ec1445bf1c69dd7cc7d24cbce13689e7570dc84ba98d4bc6757ec5ad2f.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/app/progress.self-df819cacc21fdae026057e6db599fcba5baf17b174f7fe4094037e1211928b6a.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/test/image.self-f945f36d695e577e38c6d67b504191222e601b3e90b1e90a296f2f14764d3615.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/test/point.self-57f97666d941e0e32f6db69b324362ae324dd3bdcddbca02997bb347578f357a.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/navigation.self-86efb23cbd540a25cfd5aa4f6397355fe9ea8601cab3fd824ba10027ed53a1fc.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/application.self-4d37d7bcf4b0b32507438063ae47ba88dd0178863f7c7a2c7125b221eefea772.js?body=1" data-turbolinks-track="reload"></script>
</head>
<body>
<nav class='navbar navbar-dark navbar-fixed-top bg-inverse'>
<button aria-controls='navbar' aria-expanded='false' aria-label='Toggle navigation' class='navbar-toggler hidden-sm-up' data-target='#navbar' data-toggle='collapse' type='button'></button>
<a class='navbar-brand' href='../../../index.html'>
Drawing Code:
<small>An exploration of artistic observation and computational thinking</small>
</a>
</nav>

<div class='container-fluid'>
<div class='row'>
<div class='col-md-3 col-lg-2 sidebar'>
<ul class='nav nav-sidebar'>
<li class='section'>
<a class='section_link' data-section='drawings' href='#'>
Your Drawings
</a>
<ul class='collapse nav nav-sidebar' id='drawings'>
<li>
<a href="../../../drawings/index.html">Create A Drawing</a>
</li>
<li class='section drawings-list small mt-1 hidden-xs-up'>
<strong>My Drawings</strong>
</li>
</ul>
</li>
</ul>
<ul class='nav nav-sidebar'>
<li class='section'>
<a class='section_link' data-section='reference' href='#'>
Reference
</a>
<ul class='collapse nav nav-sidebar' id='reference'>
<li class='section mt-1'>
<strong>Context2D</strong>
</li>
<li>
<a href="../../reference/clear_rect/index.html">clearRect()</a>
<span class='tag tag-default'>
<small class='clear_rect'>0 / 2</small>
</span>
</li>
<li>
<a href="../../reference/line_to/index.html">lineTo()</a>
<span class='tag tag-default'>
<small class='line_to'>0 / 3</small>
</span>
</li>
<li>
<a href="../../reference/fill_rect/index.html">fillRect()</a>
<span class='tag tag-default'>
<small class='fill_rect'>0 / 3</small>
</span>
</li>
<li>
<a href="../../reference/fill_style/index.html">fillStyle</a>
<span class='tag tag-default'>
<small class='fill_style'>0 / 2</small>
</span>
</li>
<li>
<a href="../../reference/translate/index.html">translate()</a>
<span class='tag tag-default'>
<small class='translate'>0 / 1</small>
</span>
</li>
<li class='active'>
<a href="../../reference/save/index.html">save()</a>
<span class='tag tag-default'>
<small class='save'>0 / 1</small>
</span>
</li>
<li class='section mt-1'>
<strong>Math</strong>
</li>
<li>
<a href="../../reference/floor/index.html">floor() / ceil()</a>
</li>
<li>
<a href="../../reference/random/index.html">random()</a>
</li>
</ul>
</li>
</ul>
<ul class='nav nav-sidebar'>
<li class='section'>
<a class='section_link' data-section='concepts' href='#'>
Concepts
</a>
<ul class='collapse nav nav-sidebar' id='concepts'>
<li>
<a href="../../concepts/variables/index.html">Variables</a>
<span class='tag tag-default'>
<small class='variables'>0 / 2</small>
</span>
</li>
<li>
<a href="../../concepts/for_loops/index.html">For Loops</a>
<span class='tag tag-default'>
<small class='for_loops'>0 / 1</small>
</span>
</li>
<li>
<a href="../../concepts/coordinates/index.html">Coordinates</a>
<span class='tag tag-default'>
<small class='coordinates'>0 / 2</small>
</span>
</li>
<li>
<a href="../../concepts/functions/index.html">Functions</a>
<span class='tag tag-default'>
<small class='functions'>0 / 1</small>
</span>
</li>
</ul>
</li>
</ul>
<ul class='nav nav-sidebar'>
<li class='section'>
<a class='section_link' data-section='basic_cityscape' href='#'>Basic Cityscape</a>
<ul class='collapse in nav nav-sidebar' id='basic_cityscape'>
<li>
<a href="../basic_cityscape_stage1/index.html">Stage 1</a>
<span class='tag tag-default'>
<small class='basic_cityscape_stage1'>0 / 4</small>
</span>
</li>
<li>
<a href="../basic_cityscape_stage2/index.html">Stage 2</a>
<span class='tag tag-default'>
<small class='basic_cityscape_stage2'>0 / 3</small>
</span>
</li>
<li>
<a href="../basic_cityscape_stage3/index.html">Stage 3</a>
<span class='tag tag-default'>
<small class='basic_cityscape_stage3'>0 / 4</small>
</span>
</li>
<li>
<a href="../basic_cityscape_stage4/index.html">Stage 4</a>
<span class='tag tag-default'>
<small class='basic_cityscape_stage4'>0 / 4</small>
</span>
</li>
<li class='section small mt-2'>
<strong>Relevant Reference</strong>
</li>
<li class='small '>
<a href="../clear_rect/index.html">clearRect()</a>
<span class='tag tag-default'>
<small class='clear_rect'>0 / 2</small>
</span>
</li>
<li class='small '>
<a href="../fill_rect/index.html">fillRect()</a>
<span class='tag tag-default'>
<small class='fill_rect'>0 / 3</small>
</span>
</li>
<li class='small '>
<a href="../fill_style/index.html">fillStyle</a>
<span class='tag tag-default'>
<small class='fill_style'>0 / 2</small>
</span>
</li>
<li class='small '>
<a href="../translate/index.html">translate()</a>
<span class='tag tag-default'>
<small class='translate'>0 / 1</small>
</span>
</li>
<li class='small active'>
<a href="index.html">save()</a>
<span class='tag tag-default'>
<small class='save'>0 / 1</small>
</span>
</li>
<li class='small '>
<a href="../line_to/index.html">lineTo()</a>
<span class='tag tag-default'>
<small class='line_to'>0 / 3</small>
</span>
</li>
<li class='small '>
<a href="../floor/index.html">floor() / ceil()</a>
</li>
<li class='small '>
<a href="../random/index.html">random()</a>
</li>
<li class='section small mt-1'>
<strong>Relevant Concepts</strong>
</li>
<li class='small '>
<a href="../variables/index.html">Variables</a>
<span class='tag tag-default'>
<small class='variables'>0 / 2</small>
</span>
</li>
<li class='small '>
<a href="../for_loops/index.html">For Loops</a>
<span class='tag tag-default'>
<small class='for_loops'>0 / 1</small>
</span>
</li>
<li class='small '>
<a href="../coordinates/index.html">Coordinates</a>
<span class='tag tag-default'>
<small class='coordinates'>0 / 2</small>
</span>
</li>
<li class='small '>
<a href="../functions/index.html">Functions</a>
<span class='tag tag-default'>
<small class='functions'>0 / 1</small>
</span>
</li>
</ul>
</li>
</ul>

</div>
<div class='col-xs-12 offset-md-3 col-md-9 offset-lg-2 col-lg-10 main'>
<div class='lesson' id='save'>
<h1>CanvasRenderingContext2D.save()</h1>
<p class='challenges'>
<strong>Challenges:</strong>
<span class='no_challenges_completed'>
There
is
1 challenge
for you to do.
<a href="#challenge1">Jump to challenges &gt;</a>
</span>
<span class='challenges_completed'>
You've completed
<span class='completed_challenges_count'></span>
out of
1 challenge.
<a href="#challenge1">Jump to challenges &gt;</a>
</span>
</p>

<div class='official row py-3'>
<div class='col-xs-9'>
<h2>Unofficial Description</h2>
<p class='py-2'>
The CanvasRenderingContext2D.save() method of the Canvas 2D API saves
the entire state of the canvas by pushing the current state onto a stack.
</p>
<div class='source text-xs-right'>
<a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/save">Mozilla Developer&#39;s Network</a>
</div>
</div>
</div>
<div class='simple row py-3'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2>save() and restore()</h2>
<p class='pt-2'>
The save() method is often used with the restore() method. The restore() method
will return the state of the canvas to the last saved state.
</p>
<p>
In this example save() is used to store the default state of the canvas. Then we
change the color to red and translate the canvas. The resulting rectangle is drawn in red and to
the right. context.restore() then restores the default state so the next rectangle is
black and in the untranslated position.
</p>
</div>
<div class='col-xs-12'>
<div class='interactive row py-1'>
<div class='code-editor col-xs-6'>
<h5>
Editor
<small>(write code below)</small>
</h5>
<div class='editor' id='save_interactive1_editor'>var canvas = document.getElementById('save_interactive1');&#x000A;var context = canvas.getContext("2d");&#x000A;context.clearRect(0, 0, canvas.width, canvas.height);&#x000A;&#x000A;context.save();&#x000A;&#x000A;context.fillStyle = 'red';&#x000A;context.translate(150, 0);&#x000A;context.fillRect(50,50,100,100);&#x000A;&#x000A;context.restore();&#x000A;&#x000A;context.fillRect(50,50,100,100);&#x000A;&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='run btn btn-success'>
Run
</div>
<div class='reset btn btn-danger float-xs-right'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='save_interactive1'></canvas>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='example row py-3'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2>
Example
</h2>
<p class='pt-2'>
save() allows you to store multiple states and then restore() them in reverse order. Here the square color
changes to red and then blue as the canvas is translated right. Then, as the state is restored we see the
color move back from blue to red to black as the canvas is translated back left.
</p>
</div>
<div class='col-xs-12'>
<div class='interactive row py-1'>
<div class='code-editor col-xs-6'>
<h5>
Editor
<small>(write code below)</small>
</h5>
<div class='editor' id='save_example1_editor'>var canvas = document.getElementById('save_example1');&#x000A;var context = canvas.getContext("2d");&#x000A;context.clearRect(0, 0, canvas.width, canvas.height);&#x000A;&#x000A;context.fillRect(25,25,25,25);&#x000A;&#x000A;context.save();&#x000A;&#x000A;context.translate(50,0);&#x000A;context.fillStyle = 'red';&#x000A;context.fillRect(25,25,25,25);&#x000A;&#x000A;context.save();&#x000A;&#x000A;context.translate(50, 0);&#x000A;context.fillStyle = 'blue';&#x000A;context.fillRect(25,25,25,25);&#x000A;context.fillRect(25,150,25,25);&#x000A;&#x000A;context.restore();&#x000A;&#x000A;context.fillRect(25,150,25,25);&#x000A;&#x000A;context.restore();&#x000A;&#x000A;context.fillRect(25,150,25,25);&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='run btn btn-success'>
Run
</div>
<div class='reset btn btn-danger float-xs-right'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='save_example1'></canvas>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='challenge row py-3' id='challenge1'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='challenge-title'>Challenge 1</h2>
<p class='py-2'>
Add another context.save() and another context.restore() command to the code below to prevent the third
rectangle from being red (it should be black).
</p>
</div>
</div>
<div class='row'>
<div class='code-editor col-xs-6'>
<h5>
Editor
<small>(write code below)</small>
</h5>
<div class='editor' id='save_challenge1_editor'>var canvas = document.getElementById('save_challenge1');&#x000A;var context = canvas.getContext("2d");&#x000A;context.clearRect(0, 0, canvas.width, canvas.height);&#x000A;context.save();&#x000A;&#x000A;context.fillRect(30, 80, 40, 40);&#x000A;&#x000A;context.fillStyle = 'red';&#x000A;&#x000A;context.fillRect(130, 80, 40, 40);&#x000A;&#x000A;context.fillRect(230, 80, 40, 40);&#x000A;&#x000A;context.restore();&#x000A;&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='run btn btn-success'>
Run
</div>
<div class='reset btn btn-danger float-xs-right'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='save_challenge1'></canvas>
</div>
<div class='alert'></div>
</div>
</div>
</div>
</div>
</div>

</div>
</div>
</div>
</body>
</html>

<!-- Localized -->