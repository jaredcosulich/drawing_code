<!DOCTYPE html>
<html>
<head>
<meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
<title>Drawing Code</title>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="/BkZYwecOKUwJdmae4fX336BJ3dwQLhre9xW1jkZ/EjZAtPq5xqxVYqZMLjN2yDxd5pNmpzBbQwqEMVm/urXNg==" />
<link rel="stylesheet" media="all" href="../../../assets/application.self-43238b9dc9479c930a126bb09dba232c84eaa81aa7c30703d5d90244186a5f77-body=1.css" data-turbolinks-track="reload" />
<script src="../../../assets/jquery.self-660adc51e0224b731d29f575a6f1ec167ba08ad06ed5deca4f1e8654c135bf4c.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/jquery_ujs.self-e87806d0cf4489aeb1bb7288016024e8de67fd18db693fe026fe3907581e53cd.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/bootstrap.self-4e71bfbf6aff83432bb0f204b1cfa3beaf9d05f0d2acf9ec752924a628245be1.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/ace/ace.self-0acb0427eef086a17859bfe56ecfaf24bc47c928ad7db87d5ec5bf235e40cb40.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/ace/mode-javascript.self-f62f7e63cad01dbe717d22344bf979ec13fa33f523d1b94b1576022bd4aa4d7a.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/action_cable.self-1641ec3e8ea24ed63601e86efcca7f9266e09f390e82199d56aa7e4bd50e1aa9.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/cable.self-6e0514260c1aa76eaf252412ce74e63f68819fd19bf740595f592c5ba4c36537.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/code_i_wrote.self-3c7f058b4395fe52a93f2ddb0f1c44ac05f84bd2382709aff2f7e89443f3e089.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/code_preview.self-b37269bda74e81e3e6e832ad40469072b79b5b1d3a48a2e91986fd44549f82c0.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/drawings.self-1119b89f5468a45fd5e064d9ba68962f14b5248b9ff1a6b33b2307875e470686.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/examples.self-62f6af2ec5a00cd81eb1292963de6ac7a2146c48d0d3cba6abe1adc998cae145.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/init.self-fef4ca73cdd5fc98231ba13aa0c4b3f7a626e61c3afedb604da73204cdfb80bc.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/jasmine_examples/Player.self-df86cadc05ae752e78b03dabdf6332dfdb2fb5016d4cf4572c81e57779cc62c4.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/jasmine_examples/Song.self-676a725aa543d21fbf2f98b899a89804ae472e93d25bc4f115b4914af237a610.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lesson.self-4c007310fc5244946716688a8afc18ef0b6e54f4cfc18f8aff6b18ab0e203889.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/animated_cityscape/stage1.self-80e467064710da3b6cd9a06f0893672dbc339fa3ce3fbda6993898f97d144340.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/animated_cityscape/stage2.self-2bc6acdcf50b13621a3143f4e5f34cf01318613ef8549650b0c8c59e6db66faf.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/arrays.self-6668c327ba2e7d5bcf91328a1b2dad1acf19568b060719f2428daab71e3d722a.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/basic_cityscape/stage1.self-af3dd34f4f344c2e4c6fd02ae6fcf3a3ab4cd43a8d72b9e10ac7e857ec7e3321.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/basic_cityscape/stage2.self-225920e2665631ee62b7fbe95291c6ac9e1c62142a2bc469a623623a6c18a705.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/basic_cityscape/stage3.self-d849334bedcf13dec8fb3da9f57078b783809e1a25dfc733da271108516fb213.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/basic_cityscape/stage4.self-566ff4fe09aeeee06c9bfca2d5a81fc52bad7f964d150d6025e854e6a9a8c2de.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/clearRect.self-9e82ca8aa93793f04e73caa7f25eaf5e8c815cbe718ac5f4747de25ef19efce9.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/coordinates.self-4821f9b9bad6785349895eef0fd2998882879f8d57aff2f232eb8b4d961203f1.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/create_linear_gradient.self-ab2b095d11ee8db1ddc55bb8a6d8ddb228a26f658da8dd84b46aefc823d3dd84.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/fill_rect.self-4bb525e22a290e2ae4aa8446082bdcd7168ea5c515f27a3b3b8b6d439760ea8a.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/fill_style.self-6d153ccc75d0aa54db66acd06e950248f8cabe7184d1789400272825d0648764.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/flappy_birds/stage1.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/flappy_square/stage1.self-e8ed085afc5633e0cc0f858ee4af57e6e0ea739889a726eacd1917e1842e1c4d.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/flappy_square/stage2.self-3ac728261bc343038050becaac0878f4396ee958ec16bd857db410475c22e230.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/flappy_square/stage3.self-bc2d99e542912e56ba8e0f5ed6719e1ee189b5a6cbcb5cea14e25b51c343e72c.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/flappy_square/stage4.self-7ca1693fdaf6615b4f33fdec5f1a25573d9a2aeeec983ca01396c526289972da.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/flappy_square/stage5.self-ca777df2cf099ea395e9672fc353531bdc3b78962c0b6cb414abe4b161624434.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/for_loops.self-6ea947c621baba5fe10d587860ab777038544953934ba8d15ccea3fff8128ea2.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/functions.self-d002fbef8abc3e970526900bc8987e0e6b43e4caedda60e4ea2318eae2cc0330.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/granular_basic_cityscape/stage1.self-1f92c5225b6edc5e126c3e684177b06825bffe63f78269fc846d2c7e397cd8cd.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/granular_basic_cityscape/stage2.self-fd2104e2d7b7ba5f43d38ef8d7af74ce58cfd9bb569d2f5a620b423729fa3257.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/granular_basic_cityscape/stage3.self-27da101642dd6f53a615dfefd0fb24e29e5784918453b1d18894b538a40133b8.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/granular_basic_cityscape/stage4.self-611052ea22dac28d9a24fc6ecb7c680cd07e073d394dc8a34237a2b674d846ad.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/if_statements.self-101ecc2cff3aa907c15c9f716abadc39aecfb0d8ede7e9f6ce462da649f1294b.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/line_to.self-65410ae951aab7cdda49956ec4aa794d97db0360507ea427d9e41ef840d88d93.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/objects.self-cf5de257b5741f14d31d462d8f3634e6965f23199795b5c44e433ded6515b856.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/random.self-e3526158091bc0c29fb3eaecbfa5bd813ee77bf67b2449758af5a4608bd8397b.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/round.self-8f4f7fa74c9157dc1707d118675f7e35d4621225571a950953278131b01a5022.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/save.self-ba90c232d56f796645e264833860b2cbcb639bb0e37772b06ea84198141d8bec.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/scale.self-8bedfd1625ced565d0fd9cdc69c9693cd07a039860dbee59df8fc4eb524b0d70.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/switch_statements.self-9fdab32aed464bc617220d4c4fbce43b07887fe98eca5de2828efb6e05c74d5c.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/translate.self-16962e3a7636c88e58d6a2bf9f63a8e5c65302badec269e70a30a97bfbc4c8ad.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/variables.self-4562a8743966906ee7fb58792fd51e5aac5203a5f64b393175caa98ba33ddedc.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lessons/while_loops.self-d6177003c6f9f97f79cb8c63956ace41e225e85175095da98c102ebd5432f7e3.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/app/canvas.self-429f6c3eb7215ea53ffe08598331778858aa202b6c9cdf18775ee1623316198a.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/app/editor.self-9e5c451af8ae6c3ff6a08411cac60edb597f624b02590ee8996eb3a471ab288a.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/app/files.self-16fff0bc3c9a315d22413e3b6a090fb8ef8f5f1257b42dade438f57a0de1f134.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/app/progress.self-4503399481b829c39ff08c2032105131126b8afc066ef831d3d7500a47be943f.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/test/code.self-fe8786cc99624cbebfc24da720c74fca820268336b9010d5a89b483ca3c69d44.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/test/image_comparison.self-83be79c1bfdac13ff2c69e6916a326f2698035d7381c28f12e44637de7618bac.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/lib/test/point.self-e1435fcb5c66e2107d91d34c16e06e6c0dd8d06286396d3d5b3b05c22989d9b2.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/navigation.self-0c773a2eba044489c780e82748330585e0f6b5e96bdb95dac6f0886cdfd75175.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/referenceModal.self-4ba25626378a146e8d2a7ae7edd72600ddef60371b98f42b0c3555b56cd02ff9.js?body=1" data-turbolinks-track="reload"></script>
<script src="../../../assets/application.self-4d37d7bcf4b0b32507438063ae47ba88dd0178863f7c7a2c7125b221eefea772.js?body=1" data-turbolinks-track="reload"></script>
</head>
<body>
<nav class='navbar navbar-dark navbar-fixed-top bg-inverse'>
<button aria-controls='navbar' aria-expanded='false' aria-label='Toggle navigation' class='navbar-toggler hidden-sm-up' data-target='#navbar' data-toggle='collapse' type='button'></button>
<a class='navbar-brand' href='../../../index.html'>
Drawing In Code:
<small>An exploration of artistic observation and computational thinking</small>
</a>
</nav>

<div class='container-fluid'>
<div class='row'>
<div class='col-md-3 col-lg-2 sidebar'>
<ul class='nav nav-sidebar'>
<li class='section'>
<a class="section_link" href="../../../index.html">Home</a>
</li>
</ul>
<ul class='nav nav-sidebar' style='display: none;'>
<li class='section'>
<a class='section_link' data-section='reference' href='#'>
Reference
</a>
<ul class='collapse nav nav-sidebar' id='reference'>
<li class='section mt-1'>
<strong>Context2D</strong>
</li>
<li>
<a href="../../reference/clear_rect/index.html">clearRect()</a>
<span class='tag tag-default'>
<small class='clear_rect'>0 / 2</small>
</span>
<div class='reference-modal-content' id='reference-modal-clear_rect'>
<div class='title'>context.clearRect()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
context.clearRect(x, y, width, height) will clear a rectangle starting
at (x, y) and clearing to the right width and down height.
</p>
<p>This code will produce the image below:</p>
<pre class='mb-2'><code>context.fillStyle = '#FF0000';&#x000A;context.fillRect(0, 0, canvas.width, canvas.height);&#x000A;&#x000A;context.clearRect(40, 20, 20, 100);&#x000A;context.clearRect(60, 60, 20, 20);&#x000A;context.clearRect(80, 20, 20, 100);&#x000A;&#x000A;context.clearRect(120, 20, 60, 20);&#x000A;context.clearRect(140, 40, 20, 60);&#x000A;context.clearRect(120, 100, 60, 20);&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/clear_rect/reference-70cf88df0b9a8db2c33a8048af8493be9efdca18dd8ed4b2756cb0de8d8993af.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../reference/fill_rect/index.html">fillRect()</a>
<span class='tag tag-default'>
<small class='fill_rect'>0 / 6</small>
</span>
<div class='reference-modal-content' id='reference-modal-fill_rect'>
<div class='title'>context.fillRect()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
context.fillRect(x, y, width, height) will draw a rectangle starting
at (x, y) and filling the area "width" to the right and "height" down.
</p>
<p>This code will produce the image below:</p>
<pre class='mb-2'><code>context.fillRect(50, 50, 300, 200);&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/fill_rect/reference-ec68654dd34b051ccadd579a7b7b065ab4fa1eff1991e3d8df56cf72be3dee37.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../reference/fill_style/index.html">fillStyle</a>
<span class='tag tag-default'>
<small class='fill_style'>0 / 3</small>
</span>
<div class='reference-modal-content' id='reference-modal-fill_style'>
<div class='title'>context.fillStyle</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
context.fillStyle will set the color for all future fills such as
context.fillRect(). It's important to note theat context.fillStyle
is not a method, it is an attribute. You set it like so:
</p>
<pre class='mb-2'><code>context.fillStyle = 'red';&#x000A;</code></pre>
<p>This code will produce the image below:</p>
<pre class='mb-2'><code>context.fillStyle = 'rgb(0,255,0)';&#x000A;context.fillRect(50, 50, 100, 200);&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/fill_style/reference-8b359c7e565a86e657117d488129208cb37d2b93ac988ee482ddaf063385e12e.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../reference/line_to/index.html">lineTo()</a>
<span class='tag tag-default'>
<small class='line_to'>0 / 6</small>
</span>
<div class='reference-modal-content' id='reference-modal-line_to'>
<div class='title'>context.lineTo()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
context.lineTo(x, y) creates a path from the current point - default (0,0) -
to the point (x, y). In order to see the line you must call context.stroke().
</p>
<p>This code will produce the image below:</p>
<pre class='mb-2'><code>context.beginPath();&#x000A;context.moveTo(50, 50);&#x000A;context.lineTo(100,100);&#x000A;context.lineTo(150, 50);&#x000A;context.lineTo(200, 100);&#x000A;context.stroke();&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/line_to/reference-2c3b4d87c54a374ee06ac132f850d07869ed961fac25769a9e1309faf9709371.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../reference/save/index.html">save() / restore()</a>
<span class='tag tag-default'>
<small class='save'>0 / 5</small>
</span>
<div class='reference-modal-content' id='reference-modal-save'>
<div class='title'>context.save()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
context.save() saves all of the properties of the context. Then, when you call
context.restore() it will reset all changes to the context you've made.
</p>
<p>
This code will produce the image below (note how the second rectangle is black
and closer to the original origin despite calling translate and setting the
fillStyle earlier):
</p>
<pre class='mb-2'><code>context.save();&#x000A;context.translate(100,50);&#x000A;context.fillStyle = 'red';&#x000A;context.fillRect(10, 10, 25, 25);&#x000A;context.restore();&#x000A;&#x000A;context.fillRect(10, 10, 25, 25);&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/save/reference-cfdb7b48454c0b82fb5105cf7a1228776bbee579585d77bf2b7cdeab9f8eb32a.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../reference/scale/index.html">scale()</a>
<span class='tag tag-default'>
<small class='scale'>0 / 7</small>
</span>
<div class='reference-modal-content' id='reference-modal-scale'>
<div class='title'>context.scale()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
context.scale(percentX, percentY) scales the x and y coordinates of the context, making drawings
larger or smaller.
</p>
<p>
This code will produce the image below (note that all rectangles are defined to be the same size
in the code are drawn in different sizes due to the scale of the context):
</p>
<pre class='mb-2'><code>context.fillRect(25,25,25,25);&#x000A;context.scale(2, 1);&#x000A;context.fillRect(75,25,25,25);&#x000A;context.scale(0.5, 1);&#x000A;context.fillRect(150,25,25,25);&#x000A;context.scale(2, 2);&#x000A;context.fillRect(300,25,25,25);&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/scale/reference-0569c769850c52c53953d385626946099b407d1037f93af347311149e3a2fec6.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../reference/translate/index.html">translate()</a>
<span class='tag tag-default'>
<small class='translate'>0 / 6</small>
</span>
<div class='reference-modal-content' id='reference-modal-translate'>
<div class='title'>context.translate()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
context.translate(x, y) shifts the origin of the context (where the (0,0) point is)
right by x and down by y. This allows you to draw execute multiple commands in a specific
area of the context more easily.
</p>
<p>
This code will produce the image below (note how the fillRect commands are
relative to the translation point (100,100)):
</p>
<pre class='mb-2'><code>context.translate(50,50);&#x000A;context.fillStyle = 'red';&#x000A;context.fillRect(0, 0, 100, 100);&#x000A;context.fillStyle = 'green';&#x000A;context.fillRect(10, 10, 25, 25);&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/translate/reference-19fc53169ce0da0d057fb00b05eecfb3fc88513d1fa46cf4aceaa8fa19f51c26.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li class='section mt-1'>
<strong>Math</strong>
</li>
<li>
<a href="../../reference/round/index.html">round() / floor() / ceil()</a>
<span class='tag tag-default'>
<small class='round'>0 / 3</small>
</span>
<div class='reference-modal-content' id='reference-modal-round'>
<div class='title'>Math.round() / Math.floor() / Math.ceil()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
Math.round(), Math.floor() and Math.ceil() will round a number to an integer.
Math.floor() will always round down while Math.ceil() will always round up.
Math.round() will round to the closest integer, either up or down.
</p>
</div>
<div class='offset-xs-1 col-xs-10'>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/floor/visual1-9edc722b188f28c702178c13d60cbec037d2e4159d2b7b5f7782a0be2dd5f653.png" alt="Visual1" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../reference/random/index.html">random()</a>
<span class='tag tag-default'>
<small class='random'>0 / 4</small>
</span>
<div class='reference-modal-content' id='reference-modal-random'>
<div class='title'>Math.random()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
Math.random() will produce a random decimal betweek 0 and 1. Calling it many
times will produce a different random number each time.
</p>
<p>
Often you will multiple Math.random() by another number to get a random
integer larger than 1. You may also call Math.floor() or Math.ceil() on the result
to get an rounded integer.
</p>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/random/reference-d1ee7adb1a0544e928f64c175595c9f081740954db0ae3f889f0627b4034c642.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
</ul>
</li>
</ul>
<ul class='nav nav-sidebar' style='display: none;'>
<li class='section'>
<a class='section_link' data-section='concepts' href='#'>
Concepts
</a>
<ul class='collapse nav nav-sidebar' id='concepts'>
<li>
<a href="../../concepts/variables/index.html">Variables</a>
<span class='tag tag-default'>
<small class='variables'>0 / 5</small>
</span>
<div class='reference-modal-content' id='reference-modal-variables'>
<div class='title'>Variables</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
A variable allows you to store information to use or change later.
</p>
</div>
<div class='offset-xs-1 col-xs-10'>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/variables/reference-b8e07ae4cdc5e13b2ee681381d7fa203f8442ff2e8abeb1cf4012cfb427439db.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../concepts/for_loops/index.html">For Loops</a>
<span class='tag tag-default'>
<small class='for_loops'>0 / 6</small>
</span>
<div class='reference-modal-content' id='reference-modal-for_loops'>
<div class='title'>For Loops</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
For-loops allow you to repeat code over and over again, potentially
adjusting the code a little bit each time.
</p>
<p>
The following code will produce the picture below:
</p>
<pre class='mb-2'><code>for (var i=1; i<10; ++i) {&#x000A;  context.fillRect(10 * i, 75 - (5 * i), 10 * i, 10 * i);&#x000A;}&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/for_loops/reference-ab4edc41708c315c5bc65d0ca07c1d49061a8185eb1420dbb6a056fa1be194bd.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../concepts/while_loops/index.html">While Loops</a>
<span class='tag tag-default'>
<small class='while_loops'>0 / 3</small>
</span>
<div class='reference-modal-content' id='reference-modal-while_loops'>
<div class='title'>While Loops</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
While-loops allow you to repeat code over and over again until a condition is met.
</p>
<p>
The following code will produce the picture below:
</p>
<pre class='mb-2'><code>var i = 10;&#x000A;while (i < 200) {&#x000A;  context.fillRect(5, 5, i, 50);&#x000A;  i += 10;&#x000A;}&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/while_loops/reference-b71bb24ae903b89143b68f3a561a455d71ca8c08674b34a2d9ffbde1753fc005.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../concepts/coordinates/index.html">Coordinates</a>
<span class='tag tag-default'>
<small class='coordinates'>0 / 3</small>
</span>
<div class='reference-modal-content' id='reference-modal-coordinates'>
<div class='title'>The Coordinate System</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
The coordinate system consists of X and Y values starting at (0, 0) in the upper left corner.
</p>
<p>
As you move down the canvas Y gets larger. As you move right on the canvas X gets larger.
</p>
<p>
So the point (100, 50) means you move right 100 and down 50.
</p>
<p class='text-xs-center'>
<img class="img-fluid" src="../../../assets/lessons/coordinates/reference-1875ea0cb51a1c7ed92a016a2256ba53d9b3f7820a9feaa679521c14af4e7acd.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../concepts/functions/index.html">Functions</a>
<span class='tag tag-default'>
<small class='functions'>0 / 5</small>
</span>
<div class='reference-modal-content' id='reference-modal-functions'>
<div class='title'>Functions</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
Functions allow you to create chunks of code that can be called with
different parameters.
</p>
<p>
The following code will produce the picture below:
</p>
<pre class='mb-2'><code>function fillColorRect(x, y, w, h, color) {&#x000A;  context.save();&#x000A;  context.fillStyle = color;&#x000A;  context.fillRect(x, y, w, h);&#x000A;  context.restore();&#x000A;}&#x000A;&#x000A;fillColorRect(50, 50, 50, 50, 'red');&#x000A;fillColorRect(150, 50, 50, 50, 'blue');&#x000A;fillColorRect(250, 50, 50, 50, 'green');&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/functions/reference-2d2a07b0286e84d953685386201fe7e0bc20198460907e83c7895681f6b37a45.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../concepts/switch_statements/index.html">Switch Statements</a>
<span class='tag tag-default'>
<small class='switch_statements'>0 / 4</small>
</span>
<div class='reference-modal-content' id='reference-modal-switch_statements'>
<div class='title'>Switch Statements</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
Switch statements allow you to perform different code depending on
the value of a variable.
</p>
<p>
The following code will produce the picture below (the switch statement
only performs the code inside of case 2 because "i" is set to 2):
</p>
<pre class='mb-2'><code>var i = 2;&#x000A;switch (i) {&#x000A;  case 1:&#x000A;    context.fillStyle = 'red';&#x000A;    break;&#x000A;  case 2:&#x000A;    context.fillStyle = 'yellow';&#x000A;    break;&#x000A;  case 3:&#x000A;    context.fillStyle = 'blue';&#x000A;    break;&#x000A;}&#x000A;context.fillRect(50, 50, 100, 50);&#x000A;&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/switch_statements/reference-3ab4709f6beedfca8a197ba64c75c9604abf7ccdb78c9adc16cf035c60914e8b.png" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../concepts/set_interval/index.html">setInterval()</a>
<div class='reference-modal-content' id='reference-modal-set_interval'>
<div class='title'>setInterval()</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
setInterval() allows you to execute code at specified intervals. It
is frequently used to create animations.
</p>
<p>This code will produce the image below:</p>
<pre class='mb-2'><code>var index = 0;&#x000A;function count() {&#x000A;  context.font = "20px serif";&#x000A;  context.textAlign = 'center';&#x000A;  context.fillText(index, canvas.width / 2, canvas.height / 2);&#x000A;}&#x000A;setInterval(count, 1000)&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/set_interval/reference-a47ff17199d8182591ccb0d45fa57147ee1136677cff7955671c6a01337479fa.gif" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
<li>
<a href="../../concepts/event_listeners/index.html">Event Listeners</a>
<div class='reference-modal-content' id='reference-modal-event_listeners'>
<div class='title'>Event Listeners</div>
<div class='content'>
<div class='row'>
<div class='col-xs-12'>
<p>
Event listeners allow you to "listen" for an event, such as a click, on an element
in your html.
</p>
<p>
A full list of events can be found here:
<a target="_blank" href="https://www.tutorialspoint.com/html5/html5_events.htm">HTML5 Events</a>
</p>
<p>This code will produce the image below (if you were to click and draw the letters on the canvas):</p>
<pre class='mb-2'><code>canvas.addEventListener('mousemove', function(e) {&#x000A;  if (e.buttons === 0) return;&#x000A;  context.fillRect(e.layerX - 3, e.layerY - 3, 7, 7);&#x000A;});&#x000A;</code></pre>
<p class='text-xs-center'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/event_listeners/reference-e166d58e874cfbbeb51fb29e622c9bf89d5c7a4aec6319d3953c94db43af1b0c.gif" alt="Reference" />
</p>
</div>
</div>
</div>

</div>
</li>
</ul>
</li>
</ul>
<ul class='nav nav-sidebar'>
<li class='section my-1'>
<a class='section_link' data-section='flappy_square' href='#'>Flappy Square</a>
<ul class='collapse in nav nav-sidebar' id='flappy_square'>
<li>
<a href="../stage1/index.html">Stage 1</a>
<span class='tag tag-default'>
<small class='flappy_square_stage1'>0 / 6</small>
</span>
</li>
<li class='active'>
<a href="index.html">Stage 2</a>
<span class='tag tag-default'>
<small class='flappy_square_stage2'>0 / 6</small>
</span>
<li class='page_section row small' id='page_section1'>
<a style="margin-left: 21px; width: 6.5em; display: inline-block;" href="#section1">Section 1</a>
<span class='tag tag-success hidden-xs-up'>&#10003;</span>
</li>
<li class='page_section row small' id='page_section2'>
<a style="margin-left: 21px; width: 6.5em; display: inline-block;" href="#section2">Section 2</a>
<span class='tag tag-success hidden-xs-up'>&#10003;</span>
</li>
<li class='page_section row small' id='page_section3'>
<a style="margin-left: 21px; width: 6.5em; display: inline-block;" href="#section3">Section 3</a>
<span class='tag tag-success hidden-xs-up'>&#10003;</span>
</li>
<li class='page_section row small' id='page_section4'>
<a style="margin-left: 21px; width: 6.5em; display: inline-block;" href="#section4">Section 4</a>
<span class='tag tag-success hidden-xs-up'>&#10003;</span>
</li>
<li class='page_section row small' id='page_section5'>
<a style="margin-left: 21px; width: 6.5em; display: inline-block;" href="#section5">Section 5</a>
<span class='tag tag-success hidden-xs-up'>&#10003;</span>
</li>
<li class='page_section row small' id='page_section6'>
<a style="margin-left: 21px; width: 6.5em; display: inline-block;" href="#section6">Section 6</a>
<span class='tag tag-success hidden-xs-up'>&#10003;</span>
</li>
</li>
<li>
<a href="../stage3/index.html">Stage 3</a>
<span class='tag tag-default'>
<small class='flappy_square_stage3'>0 / 5</small>
</span>
</li>
<li>
<a href="../stage4/index.html">Stage 4</a>
<span class='tag tag-default'>
<small class='flappy_square_stage4'>0 / 3</small>
</span>
</li>
<li>
<a href="../stage5/index.html">Stage 5</a>
<span class='tag tag-default'>
<small class='flappy_square_stage5'>0 / 4</small>
</span>
</li>
</ul>
<ul class='nav nav-sidebar' id='quick-reference'>
<li class='section small mt-3'>
<strong>Quick Reference</strong>
</li>
<li class='small '>
<a class="reference-link" data-slug="clear_rect" href="../clear_rect/index.html">clearRect()</a>
</li>
<li class='small '>
<a class="reference-link" data-slug="fill_rect" href="../fill_rect/index.html">fillRect()</a>
</li>
<li class='small '>
<a class="reference-link" data-slug="fill_style" href="../fill_style/index.html">fillStyle</a>
</li>
<li class='small '>
<a class="reference-link" data-slug="save" href="../save/index.html">save() / restore()</a>
</li>
<li class='small '>
<a class="reference-link" data-slug="translate" href="../translate/index.html">translate()</a>
</li>
<li class='small '>
<a class="reference-link" data-slug="random" href="../random/index.html">random()</a>
</li>
<li class='small '>
<a class="reference-link" data-slug="round" href="../round/index.html">round() / floor() / ceil()</a>
</li>
<li class='small '>
<a class="reference-link" data-slug="set_interval" href="../set_interval/index.html">setInterval()</a>
</li>
<li class='section small mt-1'>
<strong>Concepts</strong>
</li>
<li class='small '>
<a class="reference-link" data-slug="coordinates" href="../coordinates/index.html">Coordinates</a>
</li>
<li class='small '>
<a class="reference-link" data-slug="event_listeners" href="../event_listeners/index.html">Event Listeners</a>
</li>
<li class='small '>
<a class="reference-link" data-slug="functions" href="../functions/index.html">Functions</a>
</li>
<li class='small '>
<a class="reference-link" data-slug="variables" href="../variables/index.html">Variables</a>
</li>
<li class='small '>
<a class="reference-link" data-slug="while_loops" href="../while_loops/index.html">While Loops</a>
</li>
</ul>
</li>
</ul>
<ul class='nav nav-sidebar hidden-xs-up'>
<li class='section'>
<a class='section_link' data-section='experimental' href='#'>
All
</a>
</li>
<ul class='nav nav-sidebar'>
<li class='section small'>
<strong>Active</strong>
<li class='small '>
<a href="../../basic_cityscape/stage1/index.html">Basic Cityscape</a>
</li>
</li>
<li class='section small mt-2'>
<strong>Experimental</strong>
<li class='small '>
<a href="../../snake_game/stage1/index.html">Snake Game</a>
</li>
<li class='small '>
<a href="../stage1/index.html">Flappy Square</a>
</li>
<li class='small '>
<a href="../../flappy_birds/stage1/index.html">Flappy Birds</a>
</li>
<li class='small '>
<a href="../../granular_basic_cityscape/stage1/index.html">Basic Cityscape</a>
</li>
<li class='small '>
<a href="../../animated_cityscape/stage1/index.html">Animated Cityscape</a>
</li>
</li>
</ul>
</ul>

</div>
<div class='col-xs-12 offset-md-3 col-md-9 offset-lg-2 col-lg-10 main'>
<div class='page' id='flappy_square_stage2'>
<h1>Stage 2</h1>
<div class='description row py-3'>
<div class='col-xs-6'>
<h2 class='py-2'>
Stage 2 Overview
</h2>
<p>
In this stage we'll animate our flappy square!
</p>
<p>
We'll walk through a series of challenges that
move our flappy square toward an animation that
simulates gravity, causing it to fall off of our
canvas.
</p>
</div>
<div class='col-xs-6'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/flappy_square/stage2/overview-86fd863620277412004f0ca412a1bd7c809a4acf5c5dccf1fcabcb4e133b47f5.gif" alt="Overview" />
</div>
</div>
<div class='section py-2' id='section1'>&nbsp;</div>
<div class='lesson row pt-2'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='py-2'>
Lesson: Using Functions
</h2>
<p>
Right now we only have one wall. In our game we're going to
need an endless stream of walls for our flappy square to fly through.
</p>
<p>
Calling
<code>context.fillRect()</code>
over and over and over again in our code is not going to work.
</p>
<p>
If there is a chunk of code that you are going to use over and over again,
putting that code into a function can make your life much easier. Then,
to run the code, all you have to do is call the function by typing one line.
</p>
<p>
<span class='highlight'>
In this example, we create a function that will draw a French flag. Because
we might want to draw a French flag in lots of different places, we make the
x- and y-coordinates of the flag variables.
</span>
When we call drawFrenchFlag(30, 100), the 30 is assigned to the variable <i>x</i>
and the 100 is assigned to the variable <i>y</i> inside of the function. Now we can
easily draw as many French flags as we want!
</p>
<p>
Functions are a core concept in software development. If you feel uncertain about them
you should click on the "Functions" quick reference button below and click on the
"Full Lesson" button in the pop-up.
</p>
<p>
<strong>Quick Reference:</strong>
<a class="reference-link btn btn-primary btn-sm" data-slug="functions" href="../functions/index.html">Functions</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="fill_rect" href="../fill_rect/index.html">fillRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="fill_style" href="../fill_style/index.html">fillStyle</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="coordinates" href="../coordinates/index.html">Coordinates</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="variables" href="../variables/index.html">Variables</a>
</p>

</div>
<div class='col-xs-12'>
<div class='interactive row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='flappy_square_stage2_lesson1_editor'>var canvas = document.getElementById('flappy_square_stage2_lesson1');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;function drawFrenchFlag(x, y) {&#x000A;  context.fillStyle = '#0055A4';&#x000A;  context.fillRect(x, y, 20, 40);&#x000A;&#x000A;  context.fillStyle = '#FFFFFF';&#x000A;  context.fillRect(x + 20, y, 20, 40);&#x000A;&#x000A;  context.fillStyle = '#EF4135';&#x000A;  context.fillRect(x + 40, y, 20, 40);&#x000A;}&#x000A;&#x000A;drawFrenchFlag(30, 100);&#x000A;drawFrenchFlag(150, 50);&#x000A;drawFrenchFlag(300, 180);&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='lesson-text-message small text-xs-center'>
This is a lesson, not a challenge, the code runs automatically.
<p>But change it! Play with it! Click "Run" to see your changes.</p>
</div>
<div class='run run-only btn btn-success'>
Run
</div>
<div class='run run-and-focus btn btn-success'>
Run and Focus Canvas
</div>
<div class='reset btn btn-danger'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='flappy_square_stage2_lesson1'></canvas>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='challenge row py-4' id='challenge1'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='challenge-title py-2'>
Challenge 1
</h2>
<figure class='float-xs-right pl-2'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/flappy_square/stage2/challenge1Example-4643027862250dcba44807454dc0f024619ce3b5cad7ccbe4a293989c424fd5f.png" alt="Challenge1example" />
<figcaption class='text-xs-center small'>Challenge 1 Sample Solution</figcaption>
</figure>
<p>
<span class='highlight'>
Let's write three functions that draw our boundary, our flappy square, and our wall.
</span>
</p>
<p>
Our boundary will be drawn in the
<code>drawBoundary()</code>
function which will not need any parameters. All of the information we need
for this function comes from our boundary hash variable.
</p>
<p>
Our flappy square function will be called
<code>drawSquare()</code>
and will not require any parameters either. We'll use our square hash variable within
our function to draw the square like so:
</p>
<pre><code>function drawSquare() {&#x000A;  context.fillRect(square.x, square.y, square.size, square.size);&#x000A;}</code></pre>
<p>
Lastly our walls will be drawn in the
<code>drawWall(x)</code>
function which will accept one parameter, the "x" coordinate of the wall.
</p>
<p>
Once your functions are in place we can call the
<code>drawWall(x)</code>
function three times from a
<code>drawWalls()</code>
function, creating walls
<span class='highlight'>every 125 pixels,</span>
starting from the left border of the boundary.
</p>
<p>
So if you wrote code like this:
</p>
<pre><code>drawWall(100);&#x000A;drawWall(200);</code></pre>
<p>
Then the value of 100 and then 200 would be stored in the "x" variable
in the drawWall(x) function. The drawWall(x) function would then use
that x variable to draw one wall at 100 pixels and another wall at
200 pixels.
</p>
<p>
Once complete your game should look like the example provided above.
</p>
<p>
Note: Functions are a core concept in software development. If you feel uncertain about them
you should click on the "Functions" quick reference button below and click on the
"Full Lesson" button in the pop-up.
</p>
<p>
<strong>Quick Reference:</strong>
<a class="reference-link btn btn-primary btn-sm" data-slug="functions" href="../functions/index.html">Functions</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="fill_rect" href="../fill_rect/index.html">fillRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="coordinates" href="../coordinates/index.html">Coordinates</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="variables" href="../variables/index.html">Variables</a>
</p>

<div class='code-preview mb-2'>
<p>
<strong>Previous Challenge:</strong>
View your
<span class='code-preview-link' data-editorid='flappy_square_stage1_challenge6_editor'>
code from
Stage
1
Challenge
6
</span>
to use on this challenge.
</p>
<div class='code-preview-missing'>
<strong>Code Missing:</strong>
You have not yet entered any code in to the previous challenge:
Stage
1
Challenge
6
</div>
<div class='code-preview-view'>
<strong>
Stage
1
Challenge
6
</strong>
<div class='code-preview-code'></div>
</div>
</div>

</div>
</div>
<div class='row pt-2'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='flappy_square_stage2_challenge1_editor'>var canvas = document.getElementById('flappy_square_stage2_challenge1');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;// BOUNDARY HASH HERE&#x000A;&#x000A;// SQUARE HASH HERE&#x000A;&#x000A;// WALL HASH HERE&#x000A;&#x000A;&#x000A;// GAME BOUNDARY FUNCTION&#x000A;&#x000A;function drawSquare() {&#x000A;  context.fillRect(square.x, square.y, square.size, square.size);&#x000A;}&#x000A;&#x000A;function drawWall(x) {&#x000A;  // Write your code to draw a wall here&#x000A;  // but use the "x" variable that is passed&#x000A;  // in to draw a wall in different places.&#x000A;}&#x000A;&#x000A;function drawWalls() {&#x000A;  // CODE TO CALL WALL FUNCTION THREE TIMES HERE&#x000A;}&#x000A;&#x000A;drawBoundary();&#x000A;drawSquare();&#x000A;drawWalls();&#x000A;&#x000A;&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='lesson-text-message small text-xs-center'>
This is a lesson, not a challenge, the code runs automatically.
<p>But change it! Play with it! Click "Run" to see your changes.</p>
</div>
<div class='run run-only btn btn-success'>
Run
</div>
<div class='run run-and-focus btn btn-success'>
Run and Focus Canvas
</div>
<div class='reset btn btn-danger'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<div class='background hidden-xl-down'><img src="../../../assets/lessons/flappy_square/stage2/challenge1-7626ebd5ead41e09bfbc71e436fafe5ece9fbbe2594de647e1c5af0cf8938fc3.png" alt="Challenge1" /></div>
<canvas id='flappy_square_stage2_challenge1'></canvas>
</div>
<div class='alert'></div>
</div>
</div>
<div class='row pt-2'>
<div class='col-xs-9 code-i-wrote py-2'>
<p>
<strong>A Solution:</strong>
Here's the code I wrote to complete this challenge.
<span class='code-i-wrote-link'>
View One Possible Solution
</span>
</p>
<div class='code-i-wrote-view'>
<div class='code-i-wrote-code'>var canvas = document.getElementById('flappy_square_stage2_challenge1');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;var boundary = {&#x000A;  minX: 25,&#x000A;  minY: 25,&#x000A;  width: 425,&#x000A;  height: 275&#x000A;};&#x000A;&#x000A;var square = {&#x000A;  x: 50,&#x000A;  y: 100,&#x000A;  size: 20&#x000A;};&#x000A;&#x000A;var wall = {&#x000A;  width: 50,&#x000A;  height: 100&#x000A;};&#x000A;&#x000A;function drawBoundary() {&#x000A;  context.strokeRect(boundary.minX, boundary.minY, boundary.width, boundary.height);&#x000A;}&#x000A;&#x000A;function drawSquare() {&#x000A;  context.fillRect(square.x, square.y, square.size, square.size);&#x000A;}&#x000A;&#x000A;function drawWall(x) {&#x000A;  context.fillRect(x, boundary.minY, wall.width, wall.height);&#x000A;  context.fillRect(x, boundary.minY + boundary.height - wall.height, wall.width, wall.height);&#x000A;}&#x000A;&#x000A;function drawWalls() {&#x000A;  drawWall(boundary.minX + 125);&#x000A;  drawWall(boundary.minX + (125 * 2));&#x000A;  drawWall(boundary.minX + (125 * 3));&#x000A;}&#x000A;&#x000A;drawBoundary();&#x000A;drawSquare();&#x000A;drawWalls();&#x000A;&#x000A;&#x000A;</div>
</div>
</div>
</div>
</div>
</div>
<div class='section py-2' id='section2'>&nbsp;</div>
<div class='lesson row pt-2'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='py-2'>
Using context.translate(x, y)
</h2>
<p>
Between our boundary and our walls we're doing a lot of math to position
everything correctly.
</p>
<p>
For example the example solution above uses the following code in
our drawBoundary() function:
</p>
<pre><code>function drawBoundary() {&#x000A;  context.strokeRect(boundary.minX, boundary.minY, boundary.width, boundary.height);&#x000A;}</code></pre>
<p>
In drawWall(x) we are have:
</p>
<pre><code>context.fillRect(x, boundary.minY + boundary.height - wall.height, wall.width, wall.height);</code></pre>
<p>
And in drawWalls() we are have:
</p>
<pre><code>drawWall(boundary.minX + 125);&#x000A;drawWall(boundary.minX + (125 * 2));&#x000A;drawWall(boundary.minX + (125 * 3));</code></pre>
<p>
In each of these examples we have to do math to shift the everything we
are drawing to take into account the boundary.
</p>
<div class='float-xs-right pl-2 pb-2'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/flappy_square/stage2/lesson2Visual-bc4d0dd714365af372b67676f9b1be923c421846c815b2fa695e4e6e7276586f.png" alt="Lesson2visual" />
</div>
<p>
The canvas's context has a powerful method,
<a class="reference-link" data-slug="translate" href="../translate/index.html">context.translate(x, y)</a>
that allows you to shift the origin of the canvas.
</p>
<p>
This means that the point (0, 0) is no longer the top left corner of the canvas.
</p>
<p>
For example, if you were to call
<code>context.translate(50, 200);</code>
then from then on if you were to call
<code>context.translate(50, 50, 10, 10);</code>
it would draw a square at the point (100, 250) instead of (50, 50);
</p>
<p>
This means we can shift our origin point to be at the top left
corner of our boundary instead of the top left corner of the canvas.
This will greatly simplify our code.
</p>
<p>
In this example we take the flags drawn in the previous example and use
<a class="reference-link" data-slug="translate" href="../translate/index.html">context.translate(x, y)</a>
to shift the origin to the top left corner
of the flag. From there we can more easily draw the flag without having
to do any math to position the rectangles.
</p>
<p>
<strong>Quick Reference:</strong>
<a class="reference-link btn btn-primary btn-sm" data-slug="translate" href="../translate/index.html">translate()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="functions" href="../functions/index.html">Functions</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="fill_rect" href="../fill_rect/index.html">fillRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="coordinates" href="../coordinates/index.html">Coordinates</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="variables" href="../variables/index.html">Variables</a>
</p>

</div>
<div class='col-xs-12'>
<div class='interactive row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='flappy_square_stage2_lesson2_editor'>var canvas = document.getElementById('flappy_square_stage2_lesson2');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;function drawFrenchFlag(x, y) {&#x000A;  context.save(); // Save the drawing state before making any changes&#x000A;  context.translate(x, y); // Move the origin of the coordinate system to the top left corner of the flag&#x000A;&#x000A;  context.fillStyle = '#0055A4';&#x000A;  context.fillRect(0, 0, 20, 40); // The blue rectangle is drawn at (0, 0)&#x000A;&#x000A;  context.fillStyle = '#FFFFFF';&#x000A;  context.fillRect(20, 0, 20, 40); // The white rectangle is drawn at (20, 0)&#x000A;&#x000A;  context.fillStyle = '#EF4135';&#x000A;  context.fillRect(40, 0, 20, 40); // The red rectangle is drawn at (40, 0)&#x000A;&#x000A;  context.restore(); // Restore the drawing state to the way it was when we saved it&#x000A;}&#x000A;&#x000A;drawFrenchFlag(30, 100);&#x000A;drawFrenchFlag(150, 50);&#x000A;drawFrenchFlag(300, 180);&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='lesson-text-message small text-xs-center'>
This is a lesson, not a challenge, the code runs automatically.
<p>But change it! Play with it! Click "Run" to see your changes.</p>
</div>
<div class='run run-only btn btn-success'>
Run
</div>
<div class='run run-and-focus btn btn-success'>
Run and Focus Canvas
</div>
<div class='reset btn btn-danger'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='flappy_square_stage2_lesson2'></canvas>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='challenge row py-4' id='challenge2'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='challenge-title py-2'>
Challenge 2
</h2>
<figure class='float-xs-right pl-2'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/flappy_square/stage2/challenge2Example-4643027862250dcba44807454dc0f024619ce3b5cad7ccbe4a293989c424fd5f.png" alt="Challenge2example" />
<figcaption class='text-xs-center small'>Challenge 2 Sample Solution</figcaption>
</figure>
<p>
Let's use
<a class="reference-link" data-slug="translate" href="../translate/index.html">context.translate(x, y)</a>
to make our code a bit simpler and easier to read.
</p>
<p>
<span class='highlight'>
Translate the origin from the top left corner of the canvas (0, 0) to the
top left corner of the boundary (boundary.minX, boundary.minY).
</span>
From that point on the origin (0, 0) will now be the top left corner of the boundary.
</p>
<p>
This means you'll need to change the rest of your code to take into account
the new origin. This should make the code much simpler.
</p>
<p>
In particular you'll need to
<span class='highlight'>adjust the "x" and "y" values</span>
in your square hash variable:
<code>square.x</code>
</p>
<p>
In the end your flappy square game should look just like it did after the last
challenge but the code should be simplified.
</p>
<p>
<strong>Quick Reference:</strong>
<a class="reference-link btn btn-primary btn-sm" data-slug="translate" href="../translate/index.html">translate()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="functions" href="../functions/index.html">Functions</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="fill_rect" href="../fill_rect/index.html">fillRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="coordinates" href="../coordinates/index.html">Coordinates</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="variables" href="../variables/index.html">Variables</a>
</p>

<div class='code-preview mb-2'>
<p>
<strong>Previous Challenge:</strong>
View your
<span class='code-preview-link' data-editorid='flappy_square_stage2_challenge1_editor'>
code from
Stage
2
Challenge
1
</span>
to use on this challenge.
</p>
<div class='code-preview-missing'>
<strong>Code Missing:</strong>
You have not yet entered any code in to the previous challenge:
Stage
2
Challenge
1
</div>
<div class='code-preview-view'>
<strong>
Stage
2
Challenge
1
</strong>
<div class='code-preview-code'></div>
</div>
</div>

</div>
</div>
<div class='row pt-2'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='flappy_square_stage2_challenge2_editor'>var canvas = document.getElementById('flappy_square_stage2_challenge2');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;// BOUNDARY HASH HERE&#x000A;&#x000A;// SQUARE HASH HERE&#x000A;// Don't forget to change the x and y values.&#x000A;&#x000A;// WALL HASH HERE&#x000A;&#x000A;&#x000A;// GAME BOUNDARY FUNCTION&#x000A;&#x000A;// DRAW SQUARE FUNCTION&#x000A;&#x000A;// DRAW WALL FUNCTION&#x000A;&#x000A;// DRAW WALLS FUNCTION&#x000A;&#x000A;&#x000A;// CODE TO TRANSLATE THE ORIGIN&#x000A;&#x000A;drawBoundary();&#x000A;drawSquare();&#x000A;drawWalls();&#x000A;&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='lesson-text-message small text-xs-center'>
This is a lesson, not a challenge, the code runs automatically.
<p>But change it! Play with it! Click "Run" to see your changes.</p>
</div>
<div class='run run-only btn btn-success'>
Run
</div>
<div class='run run-and-focus btn btn-success'>
Run and Focus Canvas
</div>
<div class='reset btn btn-danger'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<div class='background hidden-xl-down'><img src="../../../assets/lessons/flappy_square/stage2/challenge2-7626ebd5ead41e09bfbc71e436fafe5ece9fbbe2594de647e1c5af0cf8938fc3.png" alt="Challenge2" /></div>
<canvas id='flappy_square_stage2_challenge2'></canvas>
</div>
<div class='alert'></div>
</div>
</div>
<div class='row pt-2'>
<div class='col-xs-9 code-i-wrote py-2'>
<p>
<strong>A Solution:</strong>
Here's the code I wrote to complete this challenge.
<span class='code-i-wrote-link'>
View One Possible Solution
</span>
</p>
<div class='code-i-wrote-view'>
<div class='code-i-wrote-code'>var canvas = document.getElementById('flappy_square_stage2_challenge2');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;var boundary = {&#x000A;  minX: 25,&#x000A;  minY: 25,&#x000A;  width: 425,&#x000A;  height: 275&#x000A;};&#x000A;&#x000A;var square = {&#x000A;  x: 25,&#x000A;  y: 75,&#x000A;  size: 20&#x000A;};&#x000A;&#x000A;var wall = {&#x000A;  width: 50,&#x000A;  height: 100&#x000A;};&#x000A;&#x000A;function drawBoundary() {&#x000A;  context.strokeRect(0, 0, boundary.width, boundary.height);&#x000A;}&#x000A;&#x000A;function drawSquare() {&#x000A;  context.fillRect(square.x, square.y, square.size, square.size);&#x000A;}&#x000A;&#x000A;function drawWall(x) {&#x000A;  context.fillRect(x, 0, wall.width, wall.height);&#x000A;  context.fillRect(x, boundary.height - wall.height, wall.width, wall.height);&#x000A;}&#x000A;&#x000A;function drawWalls() {&#x000A;  drawWall(125);&#x000A;  drawWall(125 * 2);&#x000A;  drawWall(125 * 3);&#x000A;}&#x000A;&#x000A;context.translate(boundary.minX, boundary.minY);&#x000A;drawSquare();&#x000A;drawBoundary();&#x000A;drawWalls();&#x000A;&#x000A;&#x000A;</div>
</div>
</div>
</div>
</div>
</div>
<div class='section py-2' id='section3'>&nbsp;</div>
<div class='challenge row py-4' id='challenge3'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='challenge-title py-2'>
Challenge 3
</h2>
<figure class='float-xs-right pl-2'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/flappy_square/stage2/challenge3Example-4643027862250dcba44807454dc0f024619ce3b5cad7ccbe4a293989c424fd5f.png" alt="Challenge3example" />
<figcaption class='text-xs-center small'>Challenge 3 Sample Solution</figcaption>
</figure>
<p>
You may have noticed that the lesson on
<code>context.translate(x, y)</code>
calls the method
<a class="reference-link" data-slug="save" href="../save/index.html">context.save()</a>
and the method
<code>context.restore()</code>
</p>
<pre><code>function drawFrenchFlag(x, y) {&#x000A;  context.save(); // Save the drawing state before making any changes&#x000A;  context.translate(x, y); // Move the origin of the coordinate system to the top left corner of the flag&#x000A;&#x000A;  ...&#x000A;&#x000A;  context.restore(); // Restore the drawing state to the way it was when we saved it&#x000A;}</code></pre>
<p>
We need to call
<code>context.save()</code>
and
<code>contest.restore()</code>
in order to reset the canvas origin.
</p>
<p>
If we call
<code>context.translate()</code>
more than once then each translation will build on top of the last. So this:
</p>
<pre><code>context.translate(20, 20);&#x000A;context.translate(20, 20);&#x000A;context.translate(20, 20);&#x000A;context.fillRect(0, 0, 50, 50);</code></pre>
<p>
Would cause a square to be drawn at (60, 60).
</p>
<p>
While this isn't causing any problems yet, it will cause problems as soon as
we begin animating our game (in the next section).
</p>
<p>
So in preparation for the animation let's wrap our translation
with a call to
<code>context.save()</code>
and
<code>context.restore()</code>
</p>
<p>
Call
<code>context.save()</code>
before the translation and then
<code>context.restore()</code>
once you're done drawing everything.
</p>
<p>
In the end your flappy square game should look just like it did after the last
challenge.
</p>
<p>
<strong>Quick Reference:</strong>
<a class="reference-link btn btn-primary btn-sm" data-slug="save" href="../save/index.html">save() / restore()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="translate" href="../translate/index.html">translate()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="functions" href="../functions/index.html">Functions</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="fill_rect" href="../fill_rect/index.html">fillRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="coordinates" href="../coordinates/index.html">Coordinates</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="variables" href="../variables/index.html">Variables</a>
</p>

<div class='code-preview mb-2'>
<p>
<strong>Previous Challenge:</strong>
View your
<span class='code-preview-link' data-editorid='flappy_square_stage2_challenge2_editor'>
code from
Stage
2
Challenge
2
</span>
to use on this challenge.
</p>
<div class='code-preview-missing'>
<strong>Code Missing:</strong>
You have not yet entered any code in to the previous challenge:
Stage
2
Challenge
2
</div>
<div class='code-preview-view'>
<strong>
Stage
2
Challenge
2
</strong>
<div class='code-preview-code'></div>
</div>
</div>

</div>
</div>
<div class='row pt-2'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='flappy_square_stage2_challenge3_editor'>var canvas = document.getElementById('flappy_square_stage2_challenge3');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;// CODE FROM PREVIOUS CHALLENGE&#x000A;// Place context.save() before the translation&#x000A;// and context.restore() after everything has been drawn.&#x000A;&#x000A;&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='lesson-text-message small text-xs-center'>
This is a lesson, not a challenge, the code runs automatically.
<p>But change it! Play with it! Click "Run" to see your changes.</p>
</div>
<div class='run run-only btn btn-success'>
Run
</div>
<div class='run run-and-focus btn btn-success'>
Run and Focus Canvas
</div>
<div class='reset btn btn-danger'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<div class='background hidden-xl-down'><img src="../../../assets/lessons/flappy_square/stage2/challenge3-7626ebd5ead41e09bfbc71e436fafe5ece9fbbe2594de647e1c5af0cf8938fc3.png" alt="Challenge3" /></div>
<canvas id='flappy_square_stage2_challenge3'></canvas>
</div>
<div class='alert'></div>
</div>
</div>
<div class='row pt-2'>
<div class='col-xs-9 code-i-wrote py-2'>
<p>
<strong>A Solution:</strong>
Here's the code I wrote to complete this challenge.
<span class='code-i-wrote-link'>
View One Possible Solution
</span>
</p>
<div class='code-i-wrote-view'>
<div class='code-i-wrote-code'>var canvas = document.getElementById('flappy_square_stage2_challenge3');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;var boundary = {&#x000A;  minX: 25,&#x000A;  minY: 25,&#x000A;  width: 425,&#x000A;  height: 275&#x000A;};&#x000A;&#x000A;var square = {&#x000A;  x: 25,&#x000A;  y: 75,&#x000A;  size: 20&#x000A;};&#x000A;&#x000A;var wall = {&#x000A;  width: 50,&#x000A;  height: 100&#x000A;};&#x000A;&#x000A;function drawBoundary() {&#x000A;  context.strokeRect(0, 0, boundary.width, boundary.height);&#x000A;}&#x000A;&#x000A;function drawSquare() {&#x000A;  context.fillRect(square.x, square.y, square.size, square.size);&#x000A;}&#x000A;&#x000A;function drawWall(x) {&#x000A;  context.fillRect(x, 0, wall.width, wall.height);&#x000A;  context.fillRect(x, boundary.height - wall.height, wall.width, wall.height);&#x000A;}&#x000A;&#x000A;function drawWalls() {&#x000A;  drawWall(125);&#x000A;  drawWall(125 * 2);&#x000A;  drawWall(125 * 3);&#x000A;}&#x000A;&#x000A;context.save();&#x000A;context.translate(boundary.minX, boundary.minY);&#x000A;drawSquare();&#x000A;drawBoundary();&#x000A;drawWalls();&#x000A;context.restore();&#x000A;&#x000A;&#x000A;</div>
</div>
</div>
</div>
</div>
</div>
<div class='section py-2' id='section4'>&nbsp;</div>
<div class='lesson row pt-2'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='py-2'>
Lesson: Basics of Animation
</h2>
<div class='float-xs-right pl-2 pb-2'>
<img src="../../../assets/lessons/flappy_square/stage2/lesson3Visual-a406a77b409cfb246ad3f665a31b2861d8892df1081673eadcc9e0073575f04b.png" alt="Lesson3visual" />
</div>
<p>
There are
<span class='highlight'>three required aspects to basic animation</span>
in canvas we need to cover:
</p>
<ul>
<li>Drawing frames in rapid sequence.</li>
<li>Clearing the canvas in between frames.</li>
<li>Making small changes to the scene in each frame.</li>
</ul>
<p>
In this lesson we're going to focus on the 1st and 3rd step of basic animation.
</p>
<p>
We're going to draw a series of frames, each a bit different from each other,
creating the illusion of continuous motion.
</p>
<p>
Drawing frames in rapid sequence can be done a number of ways.
For our purposes we'll use the
<a class="reference-link" data-slug="set_interval" href="../set_interval/index.html">setInterval(function, intervalTime)</a>
method.
<code>setInterval(function, intervalTime)</code>
runs the specified code at a regular interval (e.g. every second). You can use setInterval in
two different ways. First you can pass it code directly:
</p>
<pre><code>setInterval(function() {&#x000A;  ... some code ...&#x000A;}, 500)</code></pre>
<p>
Or you can pass it a reference to an existing function:
</p>
<pre><code>function myFunction() {&#x000A;  ... some code ...&#x000A;}&#x000A;&#x000A;setInterval(myFunction, 500);&#x000A;</code></pre>
<figure class='float-xs-right pl-2'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/flappy_square/stage2/lesson3Visual2-e9adb119da733e78fb50ec563ea591cf27a2be8390e6014e8265de77f1f2d8fd.gif" alt="Lesson3visual2" />
<figcaption class='text-xs-center small mb-1'>
A slower running animation
<br>
setInterval(programSteps, 1000)
</figcaption>
<img class="img-fluid canvas-example" src="../../../assets/lessons/flappy_square/stage2/lesson3Visual3-02bbe3831e2e11c55d9d23b1ac529eb8559c3a14540fad6761b7a8a5bd800dfd.gif" alt="Lesson3visual3" />
<figcaption class='text-xs-center small'>
A faster running animation
<br>
setInterval(programSteps, 10)
</figcaption>
</figure>
<p>
In this case the function will be called as if you ran
<code>myFunction()</code>
every 500 milliseconds.
</p>
<p>
We're going to use
<span class='highlight'>setInterval() to draw frames in rapid sequence.</span>
We'll pass it a reference to the function
<code>programSteps</code>
which contains the instructions for each frame of our game.
</p>
<p>
We can change the speed of our animation by adjusting the intervalTime in
<a class="reference-link" data-slug="set_interval" href="../set_interval/index.html">setInterval(function, intervalTime)</a>
</p>
<p>For example:</p>
<pre><code>setInterval(programSteps, 1000)&#x000A;</code></pre>
<p>will run slowly, drawing a new frame every second, while</p>
<pre><code>setInterval(programSteps, 10)</code></pre>
<p>
will run very quickly, drawing 100 frames every second. The faster an animation runs
the smoother it looks as you can draw frames that change very little, giving the
illusion of continuous motion.
</p>
<p>
Try playing around with different interval speeds to see how it affects the fluidity
of the animation.
</p>
<p>
<strong>Quick Reference:</strong>
<a class="reference-link btn btn-primary btn-sm" data-slug="fill_rect" href="../fill_rect/index.html">fillRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="set_interval" href="../set_interval/index.html">setInterval()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="functions" href="../functions/index.html">Functions</a>
</p>

</div>
<div class='col-xs-12'>
<div class='interactive focus-on-run row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='flappy_square_stage2_lesson3_editor'>var canvas = document.getElementById('flappy_square_stage2_lesson3');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;var interval;&#x000A;var size = 1;&#x000A;&#x000A;function drawSquare() {&#x000A;  context.fillRect(0, 100, size, size);&#x000A;}&#x000A;&#x000A;function adjustSize() {&#x000A;  size += 10;&#x000A;}&#x000A;&#x000A;function programSteps() {&#x000A;  adjustSize();&#x000A;  drawSquare();&#x000A;}&#x000A;&#x000A;function runProgram() {&#x000A;  interval = setInterval(programSteps, 500);&#x000A;}&#x000A;&#x000A;&#x000A;&#x000A;// The following code is provided for you.&#x000A;// It creates an eventListener that listens&#x000A;// for the canvas to come into "focus", which&#x000A;// happens when you click on it.&#x000A;// This allows us to stop and start each individual&#x000A;// animation on this whole page separately.&#x000A;function startAnimation() {&#x000A;  runProgram();&#x000A;}&#x000A;&#x000A;function pauseAnimation() {&#x000A;  clearInterval(interval);&#x000A;&#x000A;  context.font = "20px serif";&#x000A;  context.textAlign = 'center';&#x000A;  context.fillText('Click anywhere on the canvas to start animation', canvas.width / 2, 50);&#x000A;  context.fillText('or click "Run" to restart the animations.', canvas.width / 2, 75);&#x000A;}&#x000A;&#x000A;canvas.addEventListener('focus', startAnimation);&#x000A;canvas.addEventListener('blur', pauseAnimation);&#x000A;pauseAnimation();&#x000A;&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='lesson-text-message small text-xs-center'>
This is a lesson, not a challenge, the code runs automatically.
<p>But change it! Play with it! Click "Run" to see your changes.</p>
</div>
<div class='run run-only btn btn-success'>
Run
</div>
<div class='run run-and-focus btn btn-success'>
Run and Focus Canvas
</div>
<div class='reset btn btn-danger'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='flappy_square_stage2_lesson3'></canvas>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='challenge row py-4' id='challenge4'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='challenge-title py-2'>
Challenge 4
</h2>
<figure class='float-xs-right px-2'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/flappy_square/stage2/challenge4Example-17d2bd2c3859cf265facf065915d348279ab0e24d373b84e7bf14ded74c0bc73.gif" alt="Challenge4example" />
<figcaption class='text-xs-center small'>Challenge 4 Sample Solution</figcaption>
</figure>
<p>
Now we're going to start animating our game.
</p>
<p>
In this challenge we're going to focus on using
<a class="reference-link" data-slug="set_interval" href="../set_interval/index.html">setInterval(function, intervalTime)</a>
to animate just our flappy square.
</p>
<p>
We'll make the flappy square move down on the canvas. Soon we'll make
it's downward movement look more realistic by mathematically simulating
gravity, but for now we'll just make it move down one step at a time.
</p>
<p>
Use
<span class='highlight'>setInterval(function, intervalTime),</span>
as provided to
<span class='highlight'>draw the flappy square a bit lower in each frame</span>
as if it were falling.
</p>
<p>
Have your flappy square
<span class='highlight'>start at (50, 100) and move down 25 pixels every 300 milliseconds.</span>
</p>
<p>
As we are not yet clearing the canvas in between frames we'll be creating multiple
flappy squares. In the next challenge we'll look at cleaning that up to create
a true animation.
</p>
<p>
Your animation should look like the example to the right.
</p>
<p>
<strong>Quick Reference:</strong>
<a class="reference-link btn btn-primary btn-sm" data-slug="fill_rect" href="../fill_rect/index.html">fillRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="set_interval" href="../set_interval/index.html">setInterval()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="functions" href="../functions/index.html">Functions</a>
</p>

<div class='code-preview mb-2'>
<p>
<strong>Previous Challenge:</strong>
View your
<span class='code-preview-link' data-editorid='flappy_square_stage2_challenge3_editor'>
code from
Stage
2
Challenge
3
</span>
to use on this challenge.
</p>
<div class='code-preview-missing'>
<strong>Code Missing:</strong>
You have not yet entered any code in to the previous challenge:
Stage
2
Challenge
3
</div>
<div class='code-preview-view'>
<strong>
Stage
2
Challenge
3
</strong>
<div class='code-preview-code'></div>
</div>
</div>

</div>
</div>
<div class='row pt-2'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='flappy_square_stage2_challenge4_editor'>var canvas = document.getElementById('flappy_square_stage2_challenge4');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;var interval;&#x000A;&#x000A;// CODE FROM PREVIOUS CHALLENGE HERE&#x000A;&#x000A;function adjustPosition() {&#x000A;  // ADJUST THE "y" COORDINATE OF THE SQUARE&#x000A;}&#x000A;&#x000A;function programSteps() {&#x000A;  adjustPosition();&#x000A;&#x000A;  context.save();&#x000A;  context.translate(boundary.minX, boundary.minY);&#x000A;  drawBoundary();&#x000A;  drawSquare();&#x000A;  drawWalls();&#x000A;  context.restore();&#x000A;}&#x000A;&#x000A;function runProgram() {&#x000A;&#x000A;  // FILL IN THE CORRECT setInterval PARAMETERS HERE&#x000A;  interval = setInterval();&#x000A;&#x000A;}&#x000A;&#x000A;&#x000A;&#x000A;// The following code is provided for you.&#x000A;// It creates an eventListener that listens&#x000A;// for the canvas to come into "focus", which&#x000A;// happens when you click on it.&#x000A;// This allows us to stop and start each individual&#x000A;// animation on this whole page separately.&#x000A;function startAnimation() {&#x000A;  runProgram();&#x000A;}&#x000A;&#x000A;function pauseAnimation() {&#x000A;  clearInterval(interval);&#x000A;}&#x000A;&#x000A;canvas.addEventListener('focus', startAnimation);&#x000A;canvas.addEventListener('blur', pauseAnimation);&#x000A;canvas.focus();&#x000A;&#x000A;&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='lesson-text-message small text-xs-center'>
This is a lesson, not a challenge, the code runs automatically.
<p>But change it! Play with it! Click "Run" to see your changes.</p>
</div>
<div class='run run-only btn btn-success'>
Run
</div>
<div class='run run-and-focus btn btn-success'>
Run and Focus Canvas
</div>
<div class='reset btn btn-danger'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='flappy_square_stage2_challenge4'></canvas>
</div>
<div class='alert'></div>
</div>
</div>
<div class='row pt-2'>
<div class='col-xs-9 code-i-wrote py-2'>
<p>
<strong>A Solution:</strong>
Here's the code I wrote to complete this challenge.
<span class='code-i-wrote-link'>
View One Possible Solution
</span>
</p>
<div class='code-i-wrote-view'>
<div class='code-i-wrote-code'>var canvas = document.getElementById('flappy_square_stage2_challenge4');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;var interval;&#x000A;&#x000A;var boundary = {&#x000A;  minX: 25,&#x000A;  minY: 25,&#x000A;  width: 425,&#x000A;  height: 275&#x000A;};&#x000A;&#x000A;var square = {&#x000A;  x: 25,&#x000A;  y: 75,&#x000A;  size: 20&#x000A;};&#x000A;&#x000A;var wall = {&#x000A;  width: 50,&#x000A;  height: 100&#x000A;};&#x000A;&#x000A;function drawBoundary() {&#x000A;  context.strokeRect(0, 0, boundary.width, boundary.height);&#x000A;}&#x000A;&#x000A;function drawSquare() {&#x000A;  context.fillRect(square.x, square.y, square.size, square.size);&#x000A;}&#x000A;&#x000A;function drawWall(x) {&#x000A;  context.fillRect(x, 0, wall.width, wall.height);&#x000A;  context.fillRect(x, boundary.height - wall.height, wall.width, wall.height);&#x000A;}&#x000A;&#x000A;function drawWalls() {&#x000A;  drawWall(125);&#x000A;  drawWall(125 * 2);&#x000A;  drawWall(125 * 3);&#x000A;}&#x000A;&#x000A;&#x000A;function adjustPosition() {&#x000A;  square.y += 25;&#x000A;}&#x000A;&#x000A;function programSteps() {&#x000A;  adjustPosition();&#x000A;&#x000A;  context.save();&#x000A;  context.translate(boundary.minX, boundary.minY);&#x000A;  drawBoundary();&#x000A;  drawSquare();&#x000A;  drawWalls();&#x000A;  context.restore();&#x000A;}&#x000A;&#x000A;function runProgram() {&#x000A;  interval = setInterval(programSteps, 300);&#x000A;}&#x000A;&#x000A;&#x000A;&#x000A;// The following code is provided for you.&#x000A;// It creates an eventListener that listens&#x000A;// for the canvas to come into "focus", which&#x000A;// happens when you click on it.&#x000A;// This allows us to stop and start each individual&#x000A;// animation on this whole page separately.&#x000A;function startAnimation() {&#x000A;  runProgram();&#x000A;}&#x000A;&#x000A;function pauseAnimation() {&#x000A;  clearInterval(interval);&#x000A;}&#x000A;&#x000A;canvas.addEventListener('focus', startAnimation);&#x000A;canvas.addEventListener('blur', pauseAnimation);&#x000A;canvas.focus();&#x000A;&#x000A;</div>
</div>
</div>
</div>
</div>
</div>
<div class='section py-2' id='section5'>&nbsp;</div>
<div class='lesson row pt-2'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='py-2'>
Lesson: A Complete Animation Cycle
</h2>
<div class='float-xs-right pl-2 pb-2'>
<img src="../../../assets/lessons/flappy_square/stage2/lesson4Visual-a406a77b409cfb246ad3f665a31b2861d8892df1081673eadcc9e0073575f04b.png" alt="Lesson4visual" />
</div>
<p>
As mentioned in the previous lesson, there are
<span class='highlight'>three required aspects to basic animation:</span>
</p>
<ul>
<li>Drawing frames in rapid sequence.</li>
<li>Clearing the canvas in between frames.</li>
<li>Making small changes to the scene in each frame.</li>
</ul>
<p>
In this lesson we're going to complete the cycle by clearing the canvas
in between frames.
</p>
<p>
The method
<a class="reference-link" data-slug="clear_rect" href="../clear_rect/index.html">context.clearRect(x, y, width, height)</a>
allows us to clear an area of the canvas. For our purposes we'll use it to clear the entire canvas.
</p>
<p>
In this example we show the example from the last lesson in reverse. If this were run without
clearing the canvas you wouldn't see any changes, but since we're clearing the canvas
in between each frame we see the drawing get smaller and smaller.
</p>
<p>In order to clear the entire canvas we use the following code:</p>
<pre><code>context.clearRect(0, 0, canvas.width, canvas.height);</code></pre>
<p>
which says "clear an area starting at (0,0) that is as wide as the canvas
and as tall as the canvas".
</p>
<p>
<strong>Quick Reference:</strong>
<a class="reference-link btn btn-primary btn-sm" data-slug="clear_rect" href="../clear_rect/index.html">clearRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="fill_rect" href="../fill_rect/index.html">fillRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="set_interval" href="../set_interval/index.html">setInterval()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="functions" href="../functions/index.html">Functions</a>
</p>

</div>
<div class='col-xs-12'>
<div class='interactive focus-on-run row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='flappy_square_stage2_lesson4_editor'>var canvas = document.getElementById('flappy_square_stage2_lesson4');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;var interval;&#x000A;var size = canvas.width;&#x000A;&#x000A;function drawSquare() {&#x000A;  context.fillRect(0, 0, size, size);&#x000A;}&#x000A;&#x000A;function adjustSize() {&#x000A;  size -= 10;&#x000A;}&#x000A;&#x000A;function programSteps() {&#x000A;  context.clearRect(0, 0, canvas.width, canvas.height);&#x000A;  adjustSize();&#x000A;  drawSquare();&#x000A;}&#x000A;&#x000A;function runProgram() {&#x000A;  interval = setInterval(programSteps, 500);&#x000A;}&#x000A;&#x000A;&#x000A;&#x000A;// The following code is provided for you.&#x000A;// It creates an eventListener that listens&#x000A;// for the canvas to come into "focus", which&#x000A;// happens when you click on it.&#x000A;// This allows us to stop and start each individual&#x000A;// animation on this whole page separately.&#x000A;function startAnimation() {&#x000A;  runProgram();&#x000A;}&#x000A;&#x000A;function pauseAnimation() {&#x000A;  clearInterval(interval);&#x000A;&#x000A;  context.font = "20px serif";&#x000A;  context.textAlign = 'center';&#x000A;  context.fillText('Click anywhere on the canvas to start animation', canvas.width / 2, 50);&#x000A;  context.fillText('or click "Run" to restart the animations.', canvas.width / 2, 75);&#x000A;}&#x000A;&#x000A;canvas.addEventListener('focus', startAnimation);&#x000A;canvas.addEventListener('blur', pauseAnimation);&#x000A;pauseAnimation();&#x000A;&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='lesson-text-message small text-xs-center'>
This is a lesson, not a challenge, the code runs automatically.
<p>But change it! Play with it! Click "Run" to see your changes.</p>
</div>
<div class='run run-only btn btn-success'>
Run
</div>
<div class='run run-and-focus btn btn-success'>
Run and Focus Canvas
</div>
<div class='reset btn btn-danger'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='flappy_square_stage2_lesson4'></canvas>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='challenge row py-4' id='challenge5'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='challenge-title py-2'>
Challenge 5
</h2>
<figure class='float-xs-right px-2'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/flappy_square/stage2/challenge5Example-f3cad329ef9dc83bb0b9a4c55d58b0d75450f440e761d1e007e2df9c42fe37c9.gif" alt="Challenge5example" />
<figcaption class='text-xs-center small'>Challenge 5 Sample Solution</figcaption>
</figure>
<p>
As mentioned in the previous lesson, there are
<span class='highlight'>three required aspects to basic animation:</span>
</p>
<ul>
<li>Drawing frames in rapid sequence.</li>
<li>Clearing the canvas in between frames.</li>
<li>Making small changes to the scene in each frame.</li>
</ul>
<p>
In this lesson we're going to complete the cycle by clearing the canvas
in between frames.
</p>
<p>
The method
<a class="reference-link" data-slug="clear_rect" href="../clear_rect/index.html">context.clearRect(x, y, width, height)</a>
allows us to clear an area of the canvas. As the lesson above demonstrates,
we want to use it to clear the entire canvas.
</p>
<p>
So once again, we'll start the flappy square
at (50, 100) and move down 10 pixels every 300 milliseconds.
</p>
<p>
This time, though,
<span class='highlight'>use context.clearRect()</span>
to clear the canvas in between frames.
</p>
<p>
Use the method to clear a rectangle starting at
<span class='highlight'>(0, 0)</span>
with a width of
<span class='highlight'>canvas.width</span>
and a height of
<span class='highlight'>canvas.height.</span>
</p>
<p>
You'll need to call it from within
</p>
<pre><code>function programSteps() {&#x000A;  ...&#x000A;}</code></pre>
<p>so that it gets called with each frame.</p>
<p>
Your animation should look like the example at the beginning of this explanation.
</p>
<p>
<strong>Quick Reference:</strong>
<a class="reference-link btn btn-primary btn-sm" data-slug="clear_rect" href="../clear_rect/index.html">clearRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="fill_rect" href="../fill_rect/index.html">fillRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="set_interval" href="../set_interval/index.html">setInterval()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="functions" href="../functions/index.html">Functions</a>
</p>

<div class='code-preview mb-2'>
<p>
<strong>Previous Challenge:</strong>
View your
<span class='code-preview-link' data-editorid='flappy_square_stage2_challenge4_editor'>
code from
Stage
2
Challenge
4
</span>
to use on this challenge.
</p>
<div class='code-preview-missing'>
<strong>Code Missing:</strong>
You have not yet entered any code in to the previous challenge:
Stage
2
Challenge
4
</div>
<div class='code-preview-view'>
<strong>
Stage
2
Challenge
4
</strong>
<div class='code-preview-code'></div>
</div>
</div>

</div>
</div>
<div class='row pt-2'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='flappy_square_stage2_challenge5_editor'>var canvas = document.getElementById('flappy_square_stage2_challenge5');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;var interval;&#x000A;&#x000A;// CODE FROM PREVIOUS CHALLENGE HERE&#x000A;// JUST FIGURE OUT WHERE TO ADD&#x000A;// context.clearRect(0, 0, canvas.width, canvas.height)&#x000A;&#x000A;&#x000A;&#x000A;// The following code is provided for you.&#x000A;// It creates an eventListener that listens&#x000A;// for the canvas to come into "focus", which&#x000A;// happens when you click on it.&#x000A;// This allows us to stop and start each individual&#x000A;// animation on this whole page separately.&#x000A;function startAnimation() {&#x000A;  runProgram();&#x000A;}&#x000A;&#x000A;function pauseAnimation() {&#x000A;  clearInterval(interval);&#x000A;}&#x000A;&#x000A;canvas.addEventListener('focus', startAnimation);&#x000A;canvas.addEventListener('blur', pauseAnimation);&#x000A;canvas.focus();&#x000A;&#x000A;&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='lesson-text-message small text-xs-center'>
This is a lesson, not a challenge, the code runs automatically.
<p>But change it! Play with it! Click "Run" to see your changes.</p>
</div>
<div class='run run-only btn btn-success'>
Run
</div>
<div class='run run-and-focus btn btn-success'>
Run and Focus Canvas
</div>
<div class='reset btn btn-danger'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='flappy_square_stage2_challenge5'></canvas>
</div>
<div class='alert'></div>
</div>
</div>
<div class='row pt-2'>
<div class='col-xs-9 code-i-wrote py-2'>
<p>
<strong>A Solution:</strong>
Here's the code I wrote to complete this challenge.
<span class='code-i-wrote-link'>
View One Possible Solution
</span>
</p>
<div class='code-i-wrote-view'>
<div class='code-i-wrote-code'>var canvas = document.getElementById('flappy_square_stage2_challenge5');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;var interval;&#x000A;&#x000A;var boundary = {&#x000A;  minX: 25,&#x000A;  minY: 25,&#x000A;  width: 425,&#x000A;  height: 275&#x000A;};&#x000A;&#x000A;var square = {&#x000A;  x: 25,&#x000A;  y: 75,&#x000A;  size: 20&#x000A;};&#x000A;&#x000A;var wall = {&#x000A;  width: 50,&#x000A;  height: 100&#x000A;};&#x000A;&#x000A;function drawBoundary() {&#x000A;  context.strokeRect(0, 0, boundary.width, boundary.height);&#x000A;}&#x000A;&#x000A;function drawSquare() {&#x000A;  context.fillRect(square.x, square.y, square.size, square.size);&#x000A;}&#x000A;&#x000A;function drawWall(x) {&#x000A;  context.fillRect(x, 0, wall.width, wall.height);&#x000A;  context.fillRect(x, boundary.height - wall.height, wall.width, wall.height);&#x000A;}&#x000A;&#x000A;function drawWalls() {&#x000A;  drawWall(125);&#x000A;  drawWall(125 * 2);&#x000A;  drawWall(125 * 3);&#x000A;}&#x000A;&#x000A;function adjustPosition() {&#x000A;  square.y += 25;&#x000A;}&#x000A;&#x000A;function programSteps() {&#x000A;  context.clearRect(0, 0, canvas.width, canvas.height);&#x000A;  adjustPosition();&#x000A;&#x000A;  context.save();&#x000A;  context.translate(boundary.minX, boundary.minY);&#x000A;  drawBoundary();&#x000A;  drawSquare();&#x000A;  drawWalls();&#x000A;  context.restore();&#x000A;}&#x000A;&#x000A;function runProgram() {&#x000A;  interval = setInterval(programSteps, 300);&#x000A;}&#x000A;&#x000A;&#x000A;&#x000A;// The following code is provided for you.&#x000A;// It creates an eventListener that listens&#x000A;// for the canvas to come into "focus", which&#x000A;// happens when you click on it.&#x000A;// This allows us to stop and start each individual&#x000A;// animation on this whole page separately.&#x000A;function startAnimation() {&#x000A;  runProgram();&#x000A;}&#x000A;&#x000A;function pauseAnimation() {&#x000A;  clearInterval(interval);&#x000A;}&#x000A;&#x000A;canvas.addEventListener('focus', startAnimation);&#x000A;canvas.addEventListener('blur', pauseAnimation);&#x000A;canvas.focus();&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;</div>
</div>
</div>
</div>
</div>
</div>
<div class='section py-2' id='section6'>&nbsp;</div>
<div class='lesson row pt-2'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='py-2'>
Lesson: Gravity
</h2>
<p>
Now we need to make our flappy square fall more realistically.
</p>
<p>
This essentially requires
<span class='highlight'>simulating gravity.</span>
</p>
<p>
Gravity causes objects on earth to move toward the center of the Earth
at an accelerating rate, which means that they move faster and faster
toward the ground.
</p>
<p>
The speed of the object toward the ground is called its "velocity".
Gravity causes the object's velocity to increase over time.
</p>
<p>
In this examples when you click "Run" a ball will shoot out at
a constant velocity moving right and up while gravity pulls it toward
the ground, causing its upward velocity to decrease until it is negative
(falling).
</p>
<p>
In this example gravity is set to 0.4. This means that the upward speed (yVelocity)
of our ball will decrease by 0.4 each frame. So in each frame the ball will move up
by 0.4 pixels less than the last frame until it is no longer moving at which point
it will move down by 0.4 pixels more each frame.
</p>
<p>
This is an arbitrary value that simply makes the simulation look good as we're not
actually trying to simulate gravity accurately.
</p>
<p>
Also remember that in the canvas the "y" coordinates go up as you move down.
This means that subtracting a negative "yVelocity" from our "y" position actually
makes our "y" value large, drawing the ball farther down on the canvas.
</p>
<p>
<strong>Quick Reference:</strong>
<a class="reference-link btn btn-primary btn-sm" data-slug="coordinates" href="../coordinates/index.html">Coordinates</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="clear_rect" href="../clear_rect/index.html">clearRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="fill_rect" href="../fill_rect/index.html">fillRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="set_interval" href="../set_interval/index.html">setInterval()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="functions" href="../functions/index.html">Functions</a>
</p>

</div>
<div class='col-xs-12'>
<div class='interactive focus-on-run row py-1'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='flappy_square_stage2_lesson5_editor'>var canvas = document.getElementById('flappy_square_stage2_lesson5');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;var gravity = 0.4;&#x000A;var size = 10;&#x000A;var interval;&#x000A;x = 0;&#x000A;y = canvas.height - 60;&#x000A;xVelocity = 8;&#x000A;yVelocity = 12;&#x000A;&#x000A;function drawBall() {&#x000A;  context.beginPath();&#x000A;  context.arc(x, y, size, 0, Math.PI*2, true);&#x000A;  context.closePath();&#x000A;  context.fill();&#x000A;}&#x000A;&#x000A;function adjustPosition() {&#x000A;  yVelocity -= gravity;&#x000A;  x += xVelocity;&#x000A;  y -= yVelocity;&#x000A;}&#x000A;&#x000A;function programSteps() {&#x000A;  context.clearRect(0, 0, canvas.width, canvas.height);&#x000A;  adjustPosition();&#x000A;  drawBall();&#x000A;}&#x000A;&#x000A;function runProgram() {&#x000A;  interval = setInterval(programSteps, 25);&#x000A;}&#x000A;&#x000A;// The following code is provided for you.&#x000A;// It creates an eventListener that listens&#x000A;// for the canvas to come into "focus", which&#x000A;// happens when you click on it.&#x000A;// This allows us to stop and start each individual&#x000A;// animation on this whole page separately.&#x000A;function startAnimation() {&#x000A;  runProgram();&#x000A;}&#x000A;&#x000A;function pauseAnimation() {&#x000A;  clearInterval(interval);&#x000A;&#x000A;  context.font = "20px serif";&#x000A;  context.textAlign = 'center';&#x000A;  context.fillText('Click anywhere on the canvas to start animation', canvas.width / 2, 50);&#x000A;  context.fillText('or click "Run" to restart the animations.', canvas.width / 2, 75);&#x000A;}&#x000A;&#x000A;canvas.addEventListener('focus', startAnimation);&#x000A;canvas.addEventListener('blur', pauseAnimation);&#x000A;pauseAnimation();&#x000A;&#x000A;&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='lesson-text-message small text-xs-center'>
This is a lesson, not a challenge, the code runs automatically.
<p>But change it! Play with it! Click "Run" to see your changes.</p>
</div>
<div class='run run-only btn btn-success'>
Run
</div>
<div class='run run-and-focus btn btn-success'>
Run and Focus Canvas
</div>
<div class='reset btn btn-danger'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='flappy_square_stage2_lesson5'></canvas>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='challenge row py-4' id='challenge6'>
<div class='col-xs-12'>
<div class='row'>
<div class='col-xs-12'>
<h2 class='challenge-title py-2'>
Challenge 6
</h2>
<figure class='float-xs-right px-2'>
<img class="img-fluid canvas-example" src="../../../assets/lessons/flappy_square/stage2/challenge6Example-86fd863620277412004f0ca412a1bd7c809a4acf5c5dccf1fcabcb4e133b47f5.gif" alt="Challenge6example" />
<figcaption class='text-xs-center small'>Challenge 6 Sample Solution</figcaption>
</figure>
<p>
Let's give our flappy square animation a more realistic simulation
of gravity.
</p>
<p>
Using your code from Challenge
5
instead of just moving the flappy square
down 25 pixels each frame let's track the y velocity of the flappy
square and with each frame let's subtract gravity to increase the velocity
downward.
</p>
<p>
<span class='highlight'>
Our flappy square should start at (50, 100) with a yVelocity of 0. Gravity
should be set to 0.5.
</span>
So in each frame you'll subtract gravity from yVelocity and then
you'll subtract yVelocity to the y variable. This will cause the y variable to
increase at an increasing rate (making the flappy square go down
at an increasing rate).
</p>
<p>
Let's also speed up our animation and instead of running a frame every 300
miliseconds, let's
<span class='highlight'>draw a frame every 25 miliseconds.</span>
</p>
<p>
Your animation should look like the example to the right.
</p>
<p>
Important note: In Challenge
5
we added 25 to the "y" variable in each frame causing the square
to move down. Here we need to
<span class='highlight'>subtract "yVelocity"</span>
as "yVelocity" will be negative and subtracting a negative is the same
as adding a positive (I know this can get confusing with the y-coordinate
of the canvas moving in the wrong direction).
</p>
<p>
<strong>Quick Reference:</strong>
<a class="reference-link btn btn-primary btn-sm" data-slug="coordinates" href="../coordinates/index.html">Coordinates</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="clear_rect" href="../clear_rect/index.html">clearRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="set_interval" href="../set_interval/index.html">setInterval()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="fill_rect" href="../fill_rect/index.html">fillRect()</a>
<a class="reference-link btn btn-primary btn-sm" data-slug="functions" href="../functions/index.html">Functions</a>
</p>

<div class='code-preview mb-2'>
<p>
<strong>Previous Challenge:</strong>
View your
<span class='code-preview-link' data-editorid='flappy_square_stage2_challenge5_editor'>
code from
Stage
2
Challenge
5
</span>
to use on this challenge.
</p>
<div class='code-preview-missing'>
<strong>Code Missing:</strong>
You have not yet entered any code in to the previous challenge:
Stage
2
Challenge
5
</div>
<div class='code-preview-view'>
<strong>
Stage
2
Challenge
5
</strong>
<div class='code-preview-code'></div>
</div>
</div>

</div>
</div>
<div class='row pt-2'>
<div class='code-editor col-xs-6' data-files=''>
<div class='files'>
<div class='btn-group'>
<button aria-expanded='false' aria-haspopup='true' class='btn btn-secondary dropdown-toggle' data-toggle='dropdown' type='button'>
Files
</button>
<div class='dropdown-menu dropdown-menu-right'></div>
</div>
</div>
<h5>
Editor
<small class='instructions'>(write code below)</small>
</h5>
<div class='editor' id='flappy_square_stage2_challenge6_editor'>var canvas = document.getElementById('flappy_square_stage2_challenge6');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;var interval;&#x000A;var gravity = ;&#x000A;&#x000A;// HASH VARIABLES HERE&#x000A;// Remember to store yVelocity in&#x000A;// your square hash variable&#x000A;&#x000A;function drawBoundary() {&#x000A;}&#x000A;&#x000A;function drawSquare() {&#x000A;}&#x000A;&#x000A;function drawWall(x) {&#x000A;}&#x000A;&#x000A;function drawWalls() {&#x000A;}&#x000A;&#x000A;function adjustPosition() {&#x000A;  // Instead of simply adding&#x000A;  // 25 to the "square.y" variable you'll&#x000A;  // need to both adjust the "square.yVelocity"&#x000A;  // and then use it to adjust "square.y"&#x000A;}&#x000A;&#x000A;function programSteps() {&#x000A;}&#x000A;&#x000A;function runProgram() {&#x000A;  interval =&#x000A;}&#x000A;&#x000A;&#x000A;&#x000A;// The following code is provided for you.&#x000A;// It creates an eventListener that listens&#x000A;// for the canvas to come into "focus", which&#x000A;// happens when you click on it.&#x000A;// This allows us to stop and start each individual&#x000A;// animation on this whole page separately.&#x000A;function startAnimation() {&#x000A;  runProgram();&#x000A;}&#x000A;&#x000A;function pauseAnimation() {&#x000A;  clearInterval(interval);&#x000A;}&#x000A;&#x000A;canvas.addEventListener('focus', startAnimation);&#x000A;canvas.addEventListener('blur', pauseAnimation);&#x000A;canvas.focus();&#x000A;&#x000A;&#x000A;</div>
<div class='log bg-faded text-muted small'>
<button aria-label='Close' class='close' type='button'>
<span aria-hidden='true'>×</span>
</button>
<div class='title'>
<strong>Message Log</strong>
</div>
<div class='messages'></div>
</div>
<div class='buttons py-1'>
<div class='lesson-text-message small text-xs-center'>
This is a lesson, not a challenge, the code runs automatically.
<p>But change it! Play with it! Click "Run" to see your changes.</p>
</div>
<div class='run run-only btn btn-success'>
Run
</div>
<div class='run run-and-focus btn btn-success'>
Run and Focus Canvas
</div>
<div class='reset btn btn-danger'>
Reset
</div>
</div>
</div>
<div class='visual col-xs-6'>
<h5>
Canvas
<small>(your drawing will display here)</small>
</h5>
<div class='canvas'>
<canvas id='flappy_square_stage2_challenge6'></canvas>
</div>
<div class='alert'></div>
</div>
</div>
<div class='row pt-2'>
<div class='col-xs-9 code-i-wrote py-2'>
<p>
<strong>A Solution:</strong>
Here's the code I wrote to complete this challenge.
<span class='code-i-wrote-link'>
View One Possible Solution
</span>
</p>
<div class='code-i-wrote-view'>
<div class='code-i-wrote-code'>var canvas = document.getElementById('flappy_square_stage2_challenge6');&#x000A;var context = canvas.getContext('2d');&#x000A;&#x000A;var interval;&#x000A;var gravity = 0.5;&#x000A;&#x000A;var boundary = {&#x000A;  minX: 25,&#x000A;  minY: 25,&#x000A;  width: 425,&#x000A;  height: 275&#x000A;};&#x000A;&#x000A;var square = {&#x000A;  x: 25,&#x000A;  y: 75,&#x000A;  size: 20,&#x000A;  yVelocity: 0&#x000A;};&#x000A;&#x000A;var wall = {&#x000A;  width: 50,&#x000A;  height: 100&#x000A;};&#x000A;&#x000A;function drawBoundary() {&#x000A;  context.strokeRect(0, 0, boundary.width, boundary.height);&#x000A;}&#x000A;&#x000A;function drawSquare() {&#x000A;  context.fillRect(square.x, square.y, square.size, square.size);&#x000A;}&#x000A;&#x000A;function drawWall(x) {&#x000A;  context.fillRect(x, 0, wall.width, wall.height);&#x000A;  context.fillRect(x, boundary.height - wall.height, wall.width, wall.height);&#x000A;}&#x000A;&#x000A;function drawWalls() {&#x000A;  drawWall(125);&#x000A;  drawWall(125 * 2);&#x000A;  drawWall(125 * 3);&#x000A;}&#x000A;&#x000A;function adjustPosition() {&#x000A;  square.yVelocity += gravity;&#x000A;  square.y += square.yVelocity;&#x000A;}&#x000A;&#x000A;function programSteps() {&#x000A;  context.clearRect(0, 0, canvas.width, canvas.height);&#x000A;  adjustPosition();&#x000A;&#x000A;  context.save();&#x000A;  context.translate(boundary.minX, boundary.minY);&#x000A;  drawBoundary();&#x000A;  drawSquare();&#x000A;  drawWalls();&#x000A;  context.restore();&#x000A;}&#x000A;&#x000A;function runProgram() {&#x000A;  interval = setInterval(programSteps, 25);&#x000A;}&#x000A;&#x000A;&#x000A;&#x000A;// The following code is provided for you.&#x000A;// It creates an eventListener that listens&#x000A;// for the canvas to come into "focus", which&#x000A;// happens when you click on it.&#x000A;// This allows us to stop and start each individual&#x000A;// animation on this whole page separately.&#x000A;function startAnimation() {&#x000A;  runProgram();&#x000A;}&#x000A;&#x000A;function pauseAnimation() {&#x000A;  clearInterval(interval);&#x000A;}&#x000A;&#x000A;canvas.addEventListener('focus', startAnimation);&#x000A;canvas.addEventListener('blur', pauseAnimation);&#x000A;canvas.focus();</div>
</div>
</div>
</div>
</div>
</div>
</div>

<div aria-hidden='true' aria-labelledby='referenceModalLabel' class='modal fade' id='reference-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<button aria-label='Close' class='close' data-dismiss='modal' type='button'>
<span aria-hidden='true'>×</span>
</button>
<h4 class='modal-title' id='referenceModalLabel'></h4>
</div>
<div class='modal-body'></div>
<div class='modal-footer'>
<div class='float-xs-right'>
<button class='btn btn-secondary' data-dismiss='modal' type='button'>Close</button>
</div>
<div class='text-xs-left'>
<button class='btn btn-primary text-white lesson-link'>View Full Lesson</button>
</div>
</div>
</div>
</div>
</div>
<div class='py-3'>
<h2>
Ready for the next lesson?
</h2>
<p class='py-1'>
Next up, the
<a href="../stage3/index.html">&quot;Stage: 3&quot; lesson &gt;</a>
</p>
</div>
</div>
</div>
</div>
</body>
</html>

<!-- Localized -->